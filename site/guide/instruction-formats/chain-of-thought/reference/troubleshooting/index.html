
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Synthetic Dataset Generation for Language Models">
      
      
      
        <link rel="canonical" href="https://deepfabric.readthedocs.io/guide/instruction-formats/chain-of-thought/reference/troubleshooting/">
      
      
        <link rel="prev" href="../schemas/">
      
      
        <link rel="next" href="../../../../generator-pattern/">
      
      
      <link rel="icon" href="../../../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.19">
    
    
      
        <title>Troubleshooting - DeepFabric Documentation</title>
      
    
    
      <link rel="stylesheet" href="../../../../../assets/stylesheets/main.7e37652d.min.css">
      
        
        <link rel="stylesheet" href="../../../../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Nunito:300,300i,400,400i,700,700i%7CFira+Code:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Nunito";--md-code-font:"Fira Code"}</style>
      
    
    
      <link rel="stylesheet" href="../../../../../assets/_mkdocstrings.css">
    
    <script>__md_scope=new URL("../../../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="black" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#chain-of-thought-troubleshooting-guide" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../../../.." title="DeepFabric Documentation" class="md-header__button md-logo" aria-label="DeepFabric Documentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            DeepFabric Documentation
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Troubleshooting
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="black" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
          <a href="javascript:void(0)" class="md-search__icon md-icon" title="Share" aria-label="Share" data-clipboard data-clipboard-text="" data-md-component="search-share" tabindex="-1">
            
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91s2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08"/></svg>
          </a>
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/lukehinds/deepfabric" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill="currentColor" d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    lukehinds/deepfabric
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../../../.." title="DeepFabric Documentation" class="md-nav__button md-logo" aria-label="DeepFabric Documentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    DeepFabric Documentation
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/lukehinds/deepfabric" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill="currentColor" d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    lukehinds/deepfabric
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Home
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Getting Started
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Getting Started
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../getting-started/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Overview
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../getting-started/installation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Installation
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../getting-started/first-dataset/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    First Dataset
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" checked>
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Configuration Guide
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Configuration Guide
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Overview
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../configuration/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Configuration
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../topic-trees/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Topic Trees
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../topic-graphs/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Topic Graphs
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../dataset-generation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Dataset Generation
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../system-prompts/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    System Prompts
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../provider-integration/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Provider Integration
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_8" checked>
        
          
          <label class="md-nav__link" for="__nav_3_8" id="__nav_3_8_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Instruction Formats
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_8_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3_8">
            <span class="md-nav__icon md-icon"></span>
            Instruction Formats
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
    
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_8_1" checked>
        
          
          <label class="md-nav__link" for="__nav_3_8_1" id="__nav_3_8_1_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Chain of Thought
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_3_8_1_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3_8_1">
            <span class="md-nav__icon md-icon"></span>
            Chain of Thought
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Overview
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_8_1_2" >
        
          
          <label class="md-nav__link" for="__nav_3_8_1_2" id="__nav_3_8_1_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Formats
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_3_8_1_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_8_1_2">
            <span class="md-nav__icon md-icon"></span>
            Formats
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../formats/free-text/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Free-text CoT
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../formats/structured/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Structured CoT
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../formats/hybrid/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Hybrid CoT
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_8_1_3" >
        
          
          <label class="md-nav__link" for="__nav_3_8_1_3" id="__nav_3_8_1_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Configuration
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_3_8_1_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_8_1_3">
            <span class="md-nav__icon md-icon"></span>
            Configuration
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../configuration/yaml-config/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    YAML Config
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../configuration/python-api/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Python API
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_8_1_4" >
        
          
          <label class="md-nav__link" for="__nav_3_8_1_4" id="__nav_3_8_1_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Tutorials
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_3_8_1_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_8_1_4">
            <span class="md-nav__icon md-icon"></span>
            Tutorials
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorials/math-reasoning/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Math Reasoning
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_8_1_5" >
        
          
          <label class="md-nav__link" for="__nav_3_8_1_5" id="__nav_3_8_1_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Advanced
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_3_8_1_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_8_1_5">
            <span class="md-nav__icon md-icon"></span>
            Advanced
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../advanced/reasoning-styles/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Reasoning Styles
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_8_1_6" checked>
        
          
          <label class="md-nav__link" for="__nav_3_8_1_6" id="__nav_3_8_1_6_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Reference
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_3_8_1_6_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3_8_1_6">
            <span class="md-nav__icon md-icon"></span>
            Reference
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../schemas/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Schemas
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    Troubleshooting
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    Troubleshooting
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#quick-diagnostic-checklist" class="md-nav__link">
    <span class="md-ellipsis">
      Quick Diagnostic Checklist
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#configuration-issues" class="md-nav__link">
    <span class="md-ellipsis">
      Configuration Issues
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Configuration Issues">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#error-invalid-conversation_type" class="md-nav__link">
    <span class="md-ellipsis">
      Error: "Invalid conversation_type"
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Error: &#34;Invalid conversation_type&#34;">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-typo-in-conversation_type" class="md-nav__link">
    <span class="md-ellipsis">
      1. Typo in conversation_type
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-missing-conversation_type-for-cot" class="md-nav__link">
    <span class="md-ellipsis">
      2. Missing conversation_type for CoT
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-python-api-casing" class="md-nav__link">
    <span class="md-ellipsis">
      3. Python API casing
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#error-schema-validation-failed" class="md-nav__link">
    <span class="md-ellipsis">
      Error: "Schema validation failed"
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Error: &#34;Schema validation failed&#34;">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-check-provider-compatibility" class="md-nav__link">
    <span class="md-ellipsis">
      1. Check provider compatibility
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-use-simpler-format-for-problematic-providers" class="md-nav__link">
    <span class="md-ellipsis">
      2. Use simpler format for problematic providers
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-local-model-alternatives" class="md-nav__link">
    <span class="md-ellipsis">
      3. Local model alternatives
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#api-and-authentication-issues" class="md-nav__link">
    <span class="md-ellipsis">
      API and Authentication Issues
    </span>
  </a>
  
    <nav class="md-nav" aria-label="API and Authentication Issues">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#error-api-key-not-found" class="md-nav__link">
    <span class="md-ellipsis">
      Error: "API key not found"
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Error: &#34;API key not found&#34;">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-set-environment-variable" class="md-nav__link">
    <span class="md-ellipsis">
      1. Set environment variable
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-verify-key-format" class="md-nav__link">
    <span class="md-ellipsis">
      2. Verify key format
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-check-key-permissions" class="md-nav__link">
    <span class="md-ellipsis">
      3. Check key permissions
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#error-rate-limit-exceeded" class="md-nav__link">
    <span class="md-ellipsis">
      Error: "Rate limit exceeded"
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Error: &#34;Rate limit exceeded&#34;">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-reduce-generation-speed" class="md-nav__link">
    <span class="md-ellipsis">
      1. Reduce generation speed
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-upgrade-api-plan" class="md-nav__link">
    <span class="md-ellipsis">
      2. Upgrade API plan
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-implement-retry-with-backoff" class="md-nav__link">
    <span class="md-ellipsis">
      3. Implement retry with backoff
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#generation-quality-issues" class="md-nav__link">
    <span class="md-ellipsis">
      Generation Quality Issues
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Generation Quality Issues">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#issue-generated-samples-are-too-shortbrief" class="md-nav__link">
    <span class="md-ellipsis">
      Issue: Generated samples are too short/brief
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Issue: Generated samples are too short/brief">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-adjust-temperature-and-prompts" class="md-nav__link">
    <span class="md-ellipsis">
      1. Adjust temperature and prompts
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-emphasize-step-by-step-in-prompts" class="md-nav__link">
    <span class="md-ellipsis">
      2. Emphasize step-by-step in prompts
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-use-higher-capability-models" class="md-nav__link">
    <span class="md-ellipsis">
      3. Use higher-capability models
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#issue-mathematical-errors-in-reasoning" class="md-nav__link">
    <span class="md-ellipsis">
      Issue: Mathematical errors in reasoning
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Issue: Mathematical errors in reasoning">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-emphasize-verification-in-prompts" class="md-nav__link">
    <span class="md-ellipsis">
      1. Emphasize verification in prompts
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-add-calculation-checking-instructions" class="md-nav__link">
    <span class="md-ellipsis">
      2. Add calculation checking instructions
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-filter-out-incorrect-solutions" class="md-nav__link">
    <span class="md-ellipsis">
      3. Filter out incorrect solutions
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#issue-repetitive-or-similar-problems" class="md-nav__link">
    <span class="md-ellipsis">
      Issue: Repetitive or similar problems
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Issue: Repetitive or similar problems">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-increase-topic-diversity" class="md-nav__link">
    <span class="md-ellipsis">
      1. Increase topic diversity
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-use-more-diverse-topic-prompts" class="md-nav__link">
    <span class="md-ellipsis">
      2. Use more diverse topic prompts
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-generate-in-smaller-targeted-batches" class="md-nav__link">
    <span class="md-ellipsis">
      3. Generate in smaller targeted batches
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#format-specific-issues" class="md-nav__link">
    <span class="md-ellipsis">
      Format-Specific Issues
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Format-Specific Issues">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#free-text-cot-issues" class="md-nav__link">
    <span class="md-ellipsis">
      Free-text CoT Issues
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Free-text CoT Issues">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#issue-reasoning-doesnt-flow-naturally" class="md-nav__link">
    <span class="md-ellipsis">
      Issue: Reasoning doesn't flow naturally
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#issue-missing-final-answer-or-unclear-conclusion" class="md-nav__link">
    <span class="md-ellipsis">
      Issue: Missing final answer or unclear conclusion
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#structured-cot-issues" class="md-nav__link">
    <span class="md-ellipsis">
      Structured CoT Issues
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Structured CoT Issues">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#issue-conversation-feels-unnatural-or-scripted" class="md-nav__link">
    <span class="md-ellipsis">
      Issue: Conversation feels unnatural or scripted
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#issue-reasoning-trace-doesnt-match-conversation" class="md-nav__link">
    <span class="md-ellipsis">
      Issue: Reasoning trace doesn't match conversation
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#hybrid-cot-issues" class="md-nav__link">
    <span class="md-ellipsis">
      Hybrid CoT Issues
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Hybrid CoT Issues">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#issue-chain-of-thought-and-reasoning-trace-are-redundant" class="md-nav__link">
    <span class="md-ellipsis">
      Issue: Chain of thought and reasoning trace are redundant
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#issue-inconsistent-information-between-sections" class="md-nav__link">
    <span class="md-ellipsis">
      Issue: Inconsistent information between sections
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#performance-and-scale-issues" class="md-nav__link">
    <span class="md-ellipsis">
      Performance and Scale Issues
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Performance and Scale Issues">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#issue-generation-is-too-slow" class="md-nav__link">
    <span class="md-ellipsis">
      Issue: Generation is too slow
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Issue: Generation is too slow">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-optimize-model-selection" class="md-nav__link">
    <span class="md-ellipsis">
      1. Optimize model selection
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-reduce-complexity" class="md-nav__link">
    <span class="md-ellipsis">
      2. Reduce complexity
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-parallel-generation-for-multiple-datasets" class="md-nav__link">
    <span class="md-ellipsis">
      3. Parallel generation for multiple datasets
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#issue-high-api-costs" class="md-nav__link">
    <span class="md-ellipsis">
      Issue: High API costs
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Issue: High API costs">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-monitor-token-usage" class="md-nav__link">
    <span class="md-ellipsis">
      1. Monitor token usage
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-use-cost-effective-configurations" class="md-nav__link">
    <span class="md-ellipsis">
      2. Use cost-effective configurations
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-implement-cost-monitoring" class="md-nav__link">
    <span class="md-ellipsis">
      3. Implement cost monitoring
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#validation-and-data-quality-issues" class="md-nav__link">
    <span class="md-ellipsis">
      Validation and Data Quality Issues
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Validation and Data Quality Issues">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#issue-samples-failing-validation" class="md-nav__link">
    <span class="md-ellipsis">
      Issue: Samples failing validation
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Issue: Samples failing validation">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-check-validation-errors" class="md-nav__link">
    <span class="md-ellipsis">
      1. Check validation errors
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-test-validation-manually" class="md-nav__link">
    <span class="md-ellipsis">
      2. Test validation manually
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#issue-inconsistent-sample-quality" class="md-nav__link">
    <span class="md-ellipsis">
      Issue: Inconsistent sample quality
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Issue: Inconsistent sample quality">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-implement-quality-scoring" class="md-nav__link">
    <span class="md-ellipsis">
      1. Implement quality scoring
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-post-generation-filtering" class="md-nav__link">
    <span class="md-ellipsis">
      2. Post-generation filtering
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#environment-and-setup-issues" class="md-nav__link">
    <span class="md-ellipsis">
      Environment and Setup Issues
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Environment and Setup Issues">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#issue-import-errors" class="md-nav__link">
    <span class="md-ellipsis">
      Issue: Import errors
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Issue: Import errors">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-verify-installation" class="md-nav__link">
    <span class="md-ellipsis">
      1. Verify installation
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-reinstall-if-needed" class="md-nav__link">
    <span class="md-ellipsis">
      2. Reinstall if needed
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-check-python-environment" class="md-nav__link">
    <span class="md-ellipsis">
      3. Check Python environment
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#issue-dependency-conflicts" class="md-nav__link">
    <span class="md-ellipsis">
      Issue: Dependency conflicts
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Issue: Dependency conflicts">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-create-clean-environment" class="md-nav__link">
    <span class="md-ellipsis">
      1. Create clean environment
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-check-dependency-versions" class="md-nav__link">
    <span class="md-ellipsis">
      2. Check dependency versions
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#getting-help" class="md-nav__link">
    <span class="md-ellipsis">
      Getting Help
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Getting Help">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#debugging-checklist" class="md-nav__link">
    <span class="md-ellipsis">
      Debugging Checklist
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#common-support-resources" class="md-nav__link">
    <span class="md-ellipsis">
      Common Support Resources
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#emergency-workarounds" class="md-nav__link">
    <span class="md-ellipsis">
      Emergency Workarounds
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    SDK Guide
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            SDK Guide
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../generator-pattern/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Generator Pattern
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    CLI Reference
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            CLI Reference
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../cli/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Overview
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../cli/generate/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    generate
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../cli/validate/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    validate
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../cli/visualize/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    visualize
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../cli/upload/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    upload
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" >
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    API Reference
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            API Reference
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../api/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Overview
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../api/tree/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Tree
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../api/graph/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Graph
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../api/generator/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    DataSetGenerator
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../api/config/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Configuration
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7" >
        
          
          <label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Examples
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7">
            <span class="md-nav__icon md-icon"></span>
            Examples
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../examples/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Overview
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../examples/basic-usage/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Basic Usage
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../examples/advanced-workflows/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Advanced Workflows
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../examples/huggingface-integration/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Hugging Face Integration
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#quick-diagnostic-checklist" class="md-nav__link">
    <span class="md-ellipsis">
      Quick Diagnostic Checklist
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#configuration-issues" class="md-nav__link">
    <span class="md-ellipsis">
      Configuration Issues
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Configuration Issues">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#error-invalid-conversation_type" class="md-nav__link">
    <span class="md-ellipsis">
      Error: "Invalid conversation_type"
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Error: &#34;Invalid conversation_type&#34;">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-typo-in-conversation_type" class="md-nav__link">
    <span class="md-ellipsis">
      1. Typo in conversation_type
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-missing-conversation_type-for-cot" class="md-nav__link">
    <span class="md-ellipsis">
      2. Missing conversation_type for CoT
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-python-api-casing" class="md-nav__link">
    <span class="md-ellipsis">
      3. Python API casing
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#error-schema-validation-failed" class="md-nav__link">
    <span class="md-ellipsis">
      Error: "Schema validation failed"
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Error: &#34;Schema validation failed&#34;">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-check-provider-compatibility" class="md-nav__link">
    <span class="md-ellipsis">
      1. Check provider compatibility
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-use-simpler-format-for-problematic-providers" class="md-nav__link">
    <span class="md-ellipsis">
      2. Use simpler format for problematic providers
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-local-model-alternatives" class="md-nav__link">
    <span class="md-ellipsis">
      3. Local model alternatives
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#api-and-authentication-issues" class="md-nav__link">
    <span class="md-ellipsis">
      API and Authentication Issues
    </span>
  </a>
  
    <nav class="md-nav" aria-label="API and Authentication Issues">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#error-api-key-not-found" class="md-nav__link">
    <span class="md-ellipsis">
      Error: "API key not found"
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Error: &#34;API key not found&#34;">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-set-environment-variable" class="md-nav__link">
    <span class="md-ellipsis">
      1. Set environment variable
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-verify-key-format" class="md-nav__link">
    <span class="md-ellipsis">
      2. Verify key format
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-check-key-permissions" class="md-nav__link">
    <span class="md-ellipsis">
      3. Check key permissions
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#error-rate-limit-exceeded" class="md-nav__link">
    <span class="md-ellipsis">
      Error: "Rate limit exceeded"
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Error: &#34;Rate limit exceeded&#34;">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-reduce-generation-speed" class="md-nav__link">
    <span class="md-ellipsis">
      1. Reduce generation speed
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-upgrade-api-plan" class="md-nav__link">
    <span class="md-ellipsis">
      2. Upgrade API plan
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-implement-retry-with-backoff" class="md-nav__link">
    <span class="md-ellipsis">
      3. Implement retry with backoff
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#generation-quality-issues" class="md-nav__link">
    <span class="md-ellipsis">
      Generation Quality Issues
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Generation Quality Issues">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#issue-generated-samples-are-too-shortbrief" class="md-nav__link">
    <span class="md-ellipsis">
      Issue: Generated samples are too short/brief
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Issue: Generated samples are too short/brief">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-adjust-temperature-and-prompts" class="md-nav__link">
    <span class="md-ellipsis">
      1. Adjust temperature and prompts
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-emphasize-step-by-step-in-prompts" class="md-nav__link">
    <span class="md-ellipsis">
      2. Emphasize step-by-step in prompts
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-use-higher-capability-models" class="md-nav__link">
    <span class="md-ellipsis">
      3. Use higher-capability models
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#issue-mathematical-errors-in-reasoning" class="md-nav__link">
    <span class="md-ellipsis">
      Issue: Mathematical errors in reasoning
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Issue: Mathematical errors in reasoning">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-emphasize-verification-in-prompts" class="md-nav__link">
    <span class="md-ellipsis">
      1. Emphasize verification in prompts
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-add-calculation-checking-instructions" class="md-nav__link">
    <span class="md-ellipsis">
      2. Add calculation checking instructions
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-filter-out-incorrect-solutions" class="md-nav__link">
    <span class="md-ellipsis">
      3. Filter out incorrect solutions
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#issue-repetitive-or-similar-problems" class="md-nav__link">
    <span class="md-ellipsis">
      Issue: Repetitive or similar problems
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Issue: Repetitive or similar problems">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-increase-topic-diversity" class="md-nav__link">
    <span class="md-ellipsis">
      1. Increase topic diversity
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-use-more-diverse-topic-prompts" class="md-nav__link">
    <span class="md-ellipsis">
      2. Use more diverse topic prompts
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-generate-in-smaller-targeted-batches" class="md-nav__link">
    <span class="md-ellipsis">
      3. Generate in smaller targeted batches
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#format-specific-issues" class="md-nav__link">
    <span class="md-ellipsis">
      Format-Specific Issues
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Format-Specific Issues">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#free-text-cot-issues" class="md-nav__link">
    <span class="md-ellipsis">
      Free-text CoT Issues
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Free-text CoT Issues">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#issue-reasoning-doesnt-flow-naturally" class="md-nav__link">
    <span class="md-ellipsis">
      Issue: Reasoning doesn't flow naturally
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#issue-missing-final-answer-or-unclear-conclusion" class="md-nav__link">
    <span class="md-ellipsis">
      Issue: Missing final answer or unclear conclusion
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#structured-cot-issues" class="md-nav__link">
    <span class="md-ellipsis">
      Structured CoT Issues
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Structured CoT Issues">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#issue-conversation-feels-unnatural-or-scripted" class="md-nav__link">
    <span class="md-ellipsis">
      Issue: Conversation feels unnatural or scripted
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#issue-reasoning-trace-doesnt-match-conversation" class="md-nav__link">
    <span class="md-ellipsis">
      Issue: Reasoning trace doesn't match conversation
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#hybrid-cot-issues" class="md-nav__link">
    <span class="md-ellipsis">
      Hybrid CoT Issues
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Hybrid CoT Issues">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#issue-chain-of-thought-and-reasoning-trace-are-redundant" class="md-nav__link">
    <span class="md-ellipsis">
      Issue: Chain of thought and reasoning trace are redundant
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#issue-inconsistent-information-between-sections" class="md-nav__link">
    <span class="md-ellipsis">
      Issue: Inconsistent information between sections
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#performance-and-scale-issues" class="md-nav__link">
    <span class="md-ellipsis">
      Performance and Scale Issues
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Performance and Scale Issues">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#issue-generation-is-too-slow" class="md-nav__link">
    <span class="md-ellipsis">
      Issue: Generation is too slow
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Issue: Generation is too slow">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-optimize-model-selection" class="md-nav__link">
    <span class="md-ellipsis">
      1. Optimize model selection
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-reduce-complexity" class="md-nav__link">
    <span class="md-ellipsis">
      2. Reduce complexity
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-parallel-generation-for-multiple-datasets" class="md-nav__link">
    <span class="md-ellipsis">
      3. Parallel generation for multiple datasets
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#issue-high-api-costs" class="md-nav__link">
    <span class="md-ellipsis">
      Issue: High API costs
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Issue: High API costs">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-monitor-token-usage" class="md-nav__link">
    <span class="md-ellipsis">
      1. Monitor token usage
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-use-cost-effective-configurations" class="md-nav__link">
    <span class="md-ellipsis">
      2. Use cost-effective configurations
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-implement-cost-monitoring" class="md-nav__link">
    <span class="md-ellipsis">
      3. Implement cost monitoring
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#validation-and-data-quality-issues" class="md-nav__link">
    <span class="md-ellipsis">
      Validation and Data Quality Issues
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Validation and Data Quality Issues">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#issue-samples-failing-validation" class="md-nav__link">
    <span class="md-ellipsis">
      Issue: Samples failing validation
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Issue: Samples failing validation">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-check-validation-errors" class="md-nav__link">
    <span class="md-ellipsis">
      1. Check validation errors
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-test-validation-manually" class="md-nav__link">
    <span class="md-ellipsis">
      2. Test validation manually
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#issue-inconsistent-sample-quality" class="md-nav__link">
    <span class="md-ellipsis">
      Issue: Inconsistent sample quality
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Issue: Inconsistent sample quality">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-implement-quality-scoring" class="md-nav__link">
    <span class="md-ellipsis">
      1. Implement quality scoring
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-post-generation-filtering" class="md-nav__link">
    <span class="md-ellipsis">
      2. Post-generation filtering
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#environment-and-setup-issues" class="md-nav__link">
    <span class="md-ellipsis">
      Environment and Setup Issues
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Environment and Setup Issues">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#issue-import-errors" class="md-nav__link">
    <span class="md-ellipsis">
      Issue: Import errors
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Issue: Import errors">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-verify-installation" class="md-nav__link">
    <span class="md-ellipsis">
      1. Verify installation
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-reinstall-if-needed" class="md-nav__link">
    <span class="md-ellipsis">
      2. Reinstall if needed
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-check-python-environment" class="md-nav__link">
    <span class="md-ellipsis">
      3. Check Python environment
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#issue-dependency-conflicts" class="md-nav__link">
    <span class="md-ellipsis">
      Issue: Dependency conflicts
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Issue: Dependency conflicts">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-create-clean-environment" class="md-nav__link">
    <span class="md-ellipsis">
      1. Create clean environment
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-check-dependency-versions" class="md-nav__link">
    <span class="md-ellipsis">
      2. Check dependency versions
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#getting-help" class="md-nav__link">
    <span class="md-ellipsis">
      Getting Help
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Getting Help">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#debugging-checklist" class="md-nav__link">
    <span class="md-ellipsis">
      Debugging Checklist
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#common-support-resources" class="md-nav__link">
    <span class="md-ellipsis">
      Common Support Resources
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#emergency-workarounds" class="md-nav__link">
    <span class="md-ellipsis">
      Emergency Workarounds
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  
    <a href="https://github.com/lukehinds/deepfabric/edit/master/docs/guide/instruction-formats/chain-of-thought/reference/troubleshooting.md" title="Edit this page" class="md-content__button md-icon" rel="edit">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M10 20H6V4h7v5h5v3.1l2-2V8l-6-6H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h4zm10.2-7c.1 0 .3.1.4.2l1.3 1.3c.2.2.2.6 0 .8l-1 1-2.1-2.1 1-1c.1-.1.2-.2.4-.2m0 3.9L14.1 23H12v-2.1l6.1-6.1z"/></svg>
    </a>
  
  
    
      
    
    <a href="https://github.com/lukehinds/deepfabric/raw/master/docs/guide/instruction-formats/chain-of-thought/reference/troubleshooting.md" title="View source of this page" class="md-content__button md-icon">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 18c.56 0 1 .44 1 1s-.44 1-1 1-1-.44-1-1 .44-1 1-1m0-3c-2.73 0-5.06 1.66-6 4 .94 2.34 3.27 4 6 4s5.06-1.66 6-4c-.94-2.34-3.27-4-6-4m0 6.5a2.5 2.5 0 0 1-2.5-2.5 2.5 2.5 0 0 1 2.5-2.5 2.5 2.5 0 0 1 2.5 2.5 2.5 2.5 0 0 1-2.5 2.5M9.27 20H6V4h7v5h5v4.07c.7.08 1.36.25 2 .49V8l-6-6H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h4.5a8.2 8.2 0 0 1-1.23-2"/></svg>
    </a>
  


<h1 id="chain-of-thought-troubleshooting-guide">Chain of Thought Troubleshooting Guide<a class="headerlink" href="#chain-of-thought-troubleshooting-guide" title="Permanent link">&para;</a></h1>
<p>This comprehensive troubleshooting guide helps you diagnose and resolve common issues when working with Chain of Thought datasets in DeepFabric. Issues are organized by category with step-by-step solutions.</p>
<h2 id="quick-diagnostic-checklist">Quick Diagnostic Checklist<a class="headerlink" href="#quick-diagnostic-checklist" title="Permanent link">&para;</a></h2>
<p>Before diving into specific issues, run through this quick checklist:</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="c1"># 1. Verify installation</span>
</span><span id="__span-0-2"><a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a>deepfabric<span class="w"> </span>--version
</span><span id="__span-0-3"><a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a>
</span><span id="__span-0-4"><a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a><span class="c1"># 2. Check API keys</span>
</span><span id="__span-0-5"><a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a><span class="nb">echo</span><span class="w"> </span><span class="nv">$OPENAI_API_KEY</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>head<span class="w"> </span>-c<span class="w"> </span><span class="m">10</span>
</span><span id="__span-0-6"><a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a><span class="nb">echo</span><span class="w"> </span><span class="nv">$ANTHROPIC_API_KEY</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>head<span class="w"> </span>-c<span class="w"> </span><span class="m">10</span>
</span><span id="__span-0-7"><a id="__codelineno-0-7" name="__codelineno-0-7" href="#__codelineno-0-7"></a>
</span><span id="__span-0-8"><a id="__codelineno-0-8" name="__codelineno-0-8" href="#__codelineno-0-8"></a><span class="c1"># 3. Test basic functionality</span>
</span><span id="__span-0-9"><a id="__codelineno-0-9" name="__codelineno-0-9" href="#__codelineno-0-9"></a>deepfabric<span class="w"> </span>validate<span class="w"> </span>examples/quickstart.yaml
</span><span id="__span-0-10"><a id="__codelineno-0-10" name="__codelineno-0-10" href="#__codelineno-0-10"></a>
</span><span id="__span-0-11"><a id="__codelineno-0-11" name="__codelineno-0-11" href="#__codelineno-0-11"></a><span class="c1"># 4. Check Python imports</span>
</span><span id="__span-0-12"><a id="__codelineno-0-12" name="__codelineno-0-12" href="#__codelineno-0-12"></a>python<span class="w"> </span>-c<span class="w"> </span><span class="s2">&quot;from deepfabric import DataSetGenerator; print(&#39; Imports working&#39;)&quot;</span>
</span></code></pre></div>
<h2 id="configuration-issues">Configuration Issues<a class="headerlink" href="#configuration-issues" title="Permanent link">&para;</a></h2>
<h3 id="error-invalid-conversation_type">Error: "Invalid conversation_type"<a class="headerlink" href="#error-invalid-conversation_type" title="Permanent link">&para;</a></h3>
<p><strong>Symptoms</strong>:
<div class="language-text highlight"><pre><span></span><code><span id="__span-1-1"><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a>ValueError: Input should be &#39;basic&#39;, &#39;structured&#39;, &#39;tool_calling&#39;, &#39;cot_freetext&#39;, &#39;cot_structured&#39;, or &#39;cot_hybrid&#39;
</span></code></pre></div></p>
<p><strong>Causes &amp; Solutions</strong>:</p>
<h4 id="1-typo-in-conversation_type">1. Typo in conversation_type<a class="headerlink" href="#1-typo-in-conversation_type" title="Permanent link">&para;</a></h4>
<div class="language-yaml highlight"><pre><span></span><code><span id="__span-2-1"><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a><span class="c1">#  Incorrect</span>
</span><span id="__span-2-2"><a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a><span class="nt">conversation_type</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;cot-freetext&quot;</span><span class="w">    </span><span class="c1"># Hyphen instead of underscore</span>
</span><span id="__span-2-3"><a id="__codelineno-2-3" name="__codelineno-2-3" href="#__codelineno-2-3"></a><span class="nt">conversation_type</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;cot_free_text&quot;</span><span class="w">   </span><span class="c1"># Extra underscore</span>
</span><span id="__span-2-4"><a id="__codelineno-2-4" name="__codelineno-2-4" href="#__codelineno-2-4"></a><span class="nt">conversation_type</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;freetext_cot&quot;</span><span class="w">    </span><span class="c1"># Wrong order</span>
</span><span id="__span-2-5"><a id="__codelineno-2-5" name="__codelineno-2-5" href="#__codelineno-2-5"></a>
</span><span id="__span-2-6"><a id="__codelineno-2-6" name="__codelineno-2-6" href="#__codelineno-2-6"></a><span class="c1">#  Correct</span>
</span><span id="__span-2-7"><a id="__codelineno-2-7" name="__codelineno-2-7" href="#__codelineno-2-7"></a><span class="nt">conversation_type</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;cot_freetext&quot;</span>
</span><span id="__span-2-8"><a id="__codelineno-2-8" name="__codelineno-2-8" href="#__codelineno-2-8"></a><span class="nt">conversation_type</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;cot_structured&quot;</span>
</span><span id="__span-2-9"><a id="__codelineno-2-9" name="__codelineno-2-9" href="#__codelineno-2-9"></a><span class="nt">conversation_type</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;cot_hybrid&quot;</span>
</span></code></pre></div>
<h4 id="2-missing-conversation_type-for-cot">2. Missing conversation_type for CoT<a class="headerlink" href="#2-missing-conversation_type-for-cot" title="Permanent link">&para;</a></h4>
<div class="language-yaml highlight"><pre><span></span><code><span id="__span-3-1"><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a><span class="c1">#  Missing - will default to &quot;basic&quot;</span>
</span><span id="__span-3-2"><a id="__codelineno-3-2" name="__codelineno-3-2" href="#__codelineno-3-2"></a><span class="nt">data_engine</span><span class="p">:</span>
</span><span id="__span-3-3"><a id="__codelineno-3-3" name="__codelineno-3-3" href="#__codelineno-3-3"></a><span class="w">  </span><span class="nt">reasoning_style</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;mathematical&quot;</span><span class="w">    </span><span class="c1"># This has no effect without conversation_type</span>
</span><span id="__span-3-4"><a id="__codelineno-3-4" name="__codelineno-3-4" href="#__codelineno-3-4"></a>
</span><span id="__span-3-5"><a id="__codelineno-3-5" name="__codelineno-3-5" href="#__codelineno-3-5"></a><span class="c1">#  Correct</span>
</span><span id="__span-3-6"><a id="__codelineno-3-6" name="__codelineno-3-6" href="#__codelineno-3-6"></a><span class="nt">data_engine</span><span class="p">:</span>
</span><span id="__span-3-7"><a id="__codelineno-3-7" name="__codelineno-3-7" href="#__codelineno-3-7"></a><span class="w">  </span><span class="nt">conversation_type</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;cot_freetext&quot;</span>
</span><span id="__span-3-8"><a id="__codelineno-3-8" name="__codelineno-3-8" href="#__codelineno-3-8"></a><span class="w">  </span><span class="nt">reasoning_style</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;mathematical&quot;</span>
</span></code></pre></div>
<h4 id="3-python-api-casing">3. Python API casing<a class="headerlink" href="#3-python-api-casing" title="Permanent link">&para;</a></h4>
<div class="language-python highlight"><pre><span></span><code><span id="__span-4-1"><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a><span class="c1">#  Incorrect</span>
</span><span id="__span-4-2"><a id="__codelineno-4-2" name="__codelineno-4-2" href="#__codelineno-4-2"></a><span class="n">generator</span> <span class="o">=</span> <span class="n">DataSetGenerator</span><span class="p">(</span>
</span><span id="__span-4-3"><a id="__codelineno-4-3" name="__codelineno-4-3" href="#__codelineno-4-3"></a>    <span class="n">conversation_type</span><span class="o">=</span><span class="s2">&quot;COT_FREETEXT&quot;</span>  <span class="c1"># All caps</span>
</span><span id="__span-4-4"><a id="__codelineno-4-4" name="__codelineno-4-4" href="#__codelineno-4-4"></a><span class="p">)</span>
</span><span id="__span-4-5"><a id="__codelineno-4-5" name="__codelineno-4-5" href="#__codelineno-4-5"></a>
</span><span id="__span-4-6"><a id="__codelineno-4-6" name="__codelineno-4-6" href="#__codelineno-4-6"></a><span class="c1">#  Correct</span>
</span><span id="__span-4-7"><a id="__codelineno-4-7" name="__codelineno-4-7" href="#__codelineno-4-7"></a><span class="n">generator</span> <span class="o">=</span> <span class="n">DataSetGenerator</span><span class="p">(</span>
</span><span id="__span-4-8"><a id="__codelineno-4-8" name="__codelineno-4-8" href="#__codelineno-4-8"></a>    <span class="n">conversation_type</span><span class="o">=</span><span class="s2">&quot;cot_freetext&quot;</span>  <span class="c1"># Lowercase with underscores</span>
</span><span id="__span-4-9"><a id="__codelineno-4-9" name="__codelineno-4-9" href="#__codelineno-4-9"></a><span class="p">)</span>
</span></code></pre></div>
<h3 id="error-schema-validation-failed">Error: "Schema validation failed"<a class="headerlink" href="#error-schema-validation-failed" title="Permanent link">&para;</a></h3>
<p><strong>Symptoms</strong>:
<div class="language-text highlight"><pre><span></span><code><span id="__span-5-1"><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a>OpenAI does not support your schema: Invalid schema for response_format &#39;default&#39;
</span></code></pre></div></p>
<p><strong>Solutions</strong>:</p>
<h4 id="1-check-provider-compatibility">1. Check provider compatibility<a class="headerlink" href="#1-check-provider-compatibility" title="Permanent link">&para;</a></h4>
<div class="language-yaml highlight"><pre><span></span><code><span id="__span-6-1"><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a><span class="c1"># Some providers have different schema requirements</span>
</span><span id="__span-6-2"><a id="__codelineno-6-2" name="__codelineno-6-2" href="#__codelineno-6-2"></a><span class="nt">data_engine</span><span class="p">:</span>
</span><span id="__span-6-3"><a id="__codelineno-6-3" name="__codelineno-6-3" href="#__codelineno-6-3"></a><span class="w">  </span><span class="nt">provider</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;openai&quot;</span>
</span><span id="__span-6-4"><a id="__codelineno-6-4" name="__codelineno-6-4" href="#__codelineno-6-4"></a><span class="w">  </span><span class="nt">model</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;gpt-4o-mini&quot;</span><span class="w">     </span><span class="c1">#  Supports structured output</span>
</span><span id="__span-6-5"><a id="__codelineno-6-5" name="__codelineno-6-5" href="#__codelineno-6-5"></a><span class="w">  </span><span class="c1"># model: &quot;gpt-3.5-turbo&quot;  #   Limited schema support</span>
</span><span id="__span-6-6"><a id="__codelineno-6-6" name="__codelineno-6-6" href="#__codelineno-6-6"></a>
</span><span id="__span-6-7"><a id="__codelineno-6-7" name="__codelineno-6-7" href="#__codelineno-6-7"></a><span class="w">  </span><span class="nt">conversation_type</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;cot_hybrid&quot;</span><span class="w">  </span><span class="c1"># Complex schema</span>
</span></code></pre></div>
<h4 id="2-use-simpler-format-for-problematic-providers">2. Use simpler format for problematic providers<a class="headerlink" href="#2-use-simpler-format-for-problematic-providers" title="Permanent link">&para;</a></h4>
<div class="language-yaml highlight"><pre><span></span><code><span id="__span-7-1"><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a><span class="c1"># If having schema issues, try simpler format</span>
</span><span id="__span-7-2"><a id="__codelineno-7-2" name="__codelineno-7-2" href="#__codelineno-7-2"></a><span class="nt">data_engine</span><span class="p">:</span>
</span><span id="__span-7-3"><a id="__codelineno-7-3" name="__codelineno-7-3" href="#__codelineno-7-3"></a><span class="w">  </span><span class="nt">conversation_type</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;cot_freetext&quot;</span><span class="w">  </span><span class="c1"># Simpler schema</span>
</span><span id="__span-7-4"><a id="__codelineno-7-4" name="__codelineno-7-4" href="#__codelineno-7-4"></a><span class="w">  </span><span class="c1"># instead of &quot;cot_hybrid&quot;</span>
</span></code></pre></div>
<h4 id="3-local-model-alternatives">3. Local model alternatives<a class="headerlink" href="#3-local-model-alternatives" title="Permanent link">&para;</a></h4>
<div class="language-python highlight"><pre><span></span><code><span id="__span-8-1"><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a><span class="c1"># For local models that don&#39;t support complex schemas</span>
</span><span id="__span-8-2"><a id="__codelineno-8-2" name="__codelineno-8-2" href="#__codelineno-8-2"></a><span class="n">generator</span> <span class="o">=</span> <span class="n">DataSetGenerator</span><span class="p">(</span>
</span><span id="__span-8-3"><a id="__codelineno-8-3" name="__codelineno-8-3" href="#__codelineno-8-3"></a>    <span class="n">provider</span><span class="o">=</span><span class="s2">&quot;ollama&quot;</span><span class="p">,</span>
</span><span id="__span-8-4"><a id="__codelineno-8-4" name="__codelineno-8-4" href="#__codelineno-8-4"></a>    <span class="n">model_name</span><span class="o">=</span><span class="s2">&quot;mistral:latest&quot;</span><span class="p">,</span>
</span><span id="__span-8-5"><a id="__codelineno-8-5" name="__codelineno-8-5" href="#__codelineno-8-5"></a>    <span class="n">conversation_type</span><span class="o">=</span><span class="s2">&quot;cot_freetext&quot;</span><span class="p">,</span>  <span class="c1"># Simpler format works better</span>
</span><span id="__span-8-6"><a id="__codelineno-8-6" name="__codelineno-8-6" href="#__codelineno-8-6"></a>    <span class="n">temperature</span><span class="o">=</span><span class="mf">0.3</span>
</span><span id="__span-8-7"><a id="__codelineno-8-7" name="__codelineno-8-7" href="#__codelineno-8-7"></a><span class="p">)</span>
</span></code></pre></div>
<h2 id="api-and-authentication-issues">API and Authentication Issues<a class="headerlink" href="#api-and-authentication-issues" title="Permanent link">&para;</a></h2>
<h3 id="error-api-key-not-found">Error: "API key not found"<a class="headerlink" href="#error-api-key-not-found" title="Permanent link">&para;</a></h3>
<p><strong>Symptoms</strong>:
<div class="language-text highlight"><pre><span></span><code><span id="__span-9-1"><a id="__codelineno-9-1" name="__codelineno-9-1" href="#__codelineno-9-1"></a>DataSetGeneratorError: OPENAI_API_KEY environment variable not set
</span></code></pre></div></p>
<p><strong>Solutions</strong>:</p>
<h4 id="1-set-environment-variable">1. Set environment variable<a class="headerlink" href="#1-set-environment-variable" title="Permanent link">&para;</a></h4>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-10-1"><a id="__codelineno-10-1" name="__codelineno-10-1" href="#__codelineno-10-1"></a><span class="c1"># Temporary (current session only)</span>
</span><span id="__span-10-2"><a id="__codelineno-10-2" name="__codelineno-10-2" href="#__codelineno-10-2"></a><span class="nb">export</span><span class="w"> </span><span class="nv">OPENAI_API_KEY</span><span class="o">=</span><span class="s2">&quot;sk-your-key-here&quot;</span>
</span><span id="__span-10-3"><a id="__codelineno-10-3" name="__codelineno-10-3" href="#__codelineno-10-3"></a>
</span><span id="__span-10-4"><a id="__codelineno-10-4" name="__codelineno-10-4" href="#__codelineno-10-4"></a><span class="c1"># Permanent (add to ~/.bashrc or ~/.zshrc)</span>
</span><span id="__span-10-5"><a id="__codelineno-10-5" name="__codelineno-10-5" href="#__codelineno-10-5"></a><span class="nb">echo</span><span class="w"> </span><span class="s1">&#39;export OPENAI_API_KEY=&quot;sk-your-key-here&quot;&#39;</span><span class="w"> </span>&gt;&gt;<span class="w"> </span>~/.bashrc
</span><span id="__span-10-6"><a id="__codelineno-10-6" name="__codelineno-10-6" href="#__codelineno-10-6"></a><span class="nb">source</span><span class="w"> </span>~/.bashrc
</span></code></pre></div>
<h4 id="2-verify-key-format">2. Verify key format<a class="headerlink" href="#2-verify-key-format" title="Permanent link">&para;</a></h4>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-11-1"><a id="__codelineno-11-1" name="__codelineno-11-1" href="#__codelineno-11-1"></a><span class="c1"># OpenAI keys start with &quot;sk-&quot;</span>
</span><span id="__span-11-2"><a id="__codelineno-11-2" name="__codelineno-11-2" href="#__codelineno-11-2"></a><span class="nb">echo</span><span class="w"> </span><span class="nv">$OPENAI_API_KEY</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>grep<span class="w"> </span><span class="s2">&quot;^sk-&quot;</span>
</span><span id="__span-11-3"><a id="__codelineno-11-3" name="__codelineno-11-3" href="#__codelineno-11-3"></a>
</span><span id="__span-11-4"><a id="__codelineno-11-4" name="__codelineno-11-4" href="#__codelineno-11-4"></a><span class="c1"># Anthropic keys start with &quot;sk-ant-&quot;</span>
</span><span id="__span-11-5"><a id="__codelineno-11-5" name="__codelineno-11-5" href="#__codelineno-11-5"></a><span class="nb">echo</span><span class="w"> </span><span class="nv">$ANTHROPIC_API_KEY</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>grep<span class="w"> </span><span class="s2">&quot;^sk-ant-&quot;</span>
</span></code></pre></div>
<h4 id="3-check-key-permissions">3. Check key permissions<a class="headerlink" href="#3-check-key-permissions" title="Permanent link">&para;</a></h4>
<div class="language-python highlight"><pre><span></span><code><span id="__span-12-1"><a id="__codelineno-12-1" name="__codelineno-12-1" href="#__codelineno-12-1"></a><span class="c1"># Test API key with simple request</span>
</span><span id="__span-12-2"><a id="__codelineno-12-2" name="__codelineno-12-2" href="#__codelineno-12-2"></a><span class="kn">import</span><span class="w"> </span><span class="nn">openai</span>
</span><span id="__span-12-3"><a id="__codelineno-12-3" name="__codelineno-12-3" href="#__codelineno-12-3"></a><span class="n">openai</span><span class="o">.</span><span class="n">api_key</span> <span class="o">=</span> <span class="s2">&quot;your-key-here&quot;</span>
</span><span id="__span-12-4"><a id="__codelineno-12-4" name="__codelineno-12-4" href="#__codelineno-12-4"></a>
</span><span id="__span-12-5"><a id="__codelineno-12-5" name="__codelineno-12-5" href="#__codelineno-12-5"></a><span class="k">try</span><span class="p">:</span>
</span><span id="__span-12-6"><a id="__codelineno-12-6" name="__codelineno-12-6" href="#__codelineno-12-6"></a>    <span class="n">response</span> <span class="o">=</span> <span class="n">openai</span><span class="o">.</span><span class="n">ChatCompletion</span><span class="o">.</span><span class="n">create</span><span class="p">(</span>
</span><span id="__span-12-7"><a id="__codelineno-12-7" name="__codelineno-12-7" href="#__codelineno-12-7"></a>        <span class="n">model</span><span class="o">=</span><span class="s2">&quot;gpt-3.5-turbo&quot;</span><span class="p">,</span>
</span><span id="__span-12-8"><a id="__codelineno-12-8" name="__codelineno-12-8" href="#__codelineno-12-8"></a>        <span class="n">messages</span><span class="o">=</span><span class="p">[{</span><span class="s2">&quot;role&quot;</span><span class="p">:</span> <span class="s2">&quot;user&quot;</span><span class="p">,</span> <span class="s2">&quot;content&quot;</span><span class="p">:</span> <span class="s2">&quot;Hello&quot;</span><span class="p">}],</span>
</span><span id="__span-12-9"><a id="__codelineno-12-9" name="__codelineno-12-9" href="#__codelineno-12-9"></a>        <span class="n">max_tokens</span><span class="o">=</span><span class="mi">10</span>
</span><span id="__span-12-10"><a id="__codelineno-12-10" name="__codelineno-12-10" href="#__codelineno-12-10"></a>    <span class="p">)</span>
</span><span id="__span-12-11"><a id="__codelineno-12-11" name="__codelineno-12-11" href="#__codelineno-12-11"></a>    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot; API key working&quot;</span><span class="p">)</span>
</span><span id="__span-12-12"><a id="__codelineno-12-12" name="__codelineno-12-12" href="#__codelineno-12-12"></a><span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span><span id="__span-12-13"><a id="__codelineno-12-13" name="__codelineno-12-13" href="#__codelineno-12-13"></a>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot; API error: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span></code></pre></div>
<h3 id="error-rate-limit-exceeded">Error: "Rate limit exceeded"<a class="headerlink" href="#error-rate-limit-exceeded" title="Permanent link">&para;</a></h3>
<p><strong>Symptoms</strong>:
<div class="language-text highlight"><pre><span></span><code><span id="__span-13-1"><a id="__codelineno-13-1" name="__codelineno-13-1" href="#__codelineno-13-1"></a>RateLimitError: Rate limit reached for requests
</span></code></pre></div></p>
<p><strong>Solutions</strong>:</p>
<h4 id="1-reduce-generation-speed">1. Reduce generation speed<a class="headerlink" href="#1-reduce-generation-speed" title="Permanent link">&para;</a></h4>
<div class="language-yaml highlight"><pre><span></span><code><span id="__span-14-1"><a id="__codelineno-14-1" name="__codelineno-14-1" href="#__codelineno-14-1"></a><span class="c1"># Smaller batch sizes</span>
</span><span id="__span-14-2"><a id="__codelineno-14-2" name="__codelineno-14-2" href="#__codelineno-14-2"></a><span class="nt">dataset</span><span class="p">:</span>
</span><span id="__span-14-3"><a id="__codelineno-14-3" name="__codelineno-14-3" href="#__codelineno-14-3"></a><span class="w">  </span><span class="nt">creation</span><span class="p">:</span>
</span><span id="__span-14-4"><a id="__codelineno-14-4" name="__codelineno-14-4" href="#__codelineno-14-4"></a><span class="w">    </span><span class="nt">batch_size</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1</span><span class="w">          </span><span class="c1"># Instead of larger batches</span>
</span><span id="__span-14-5"><a id="__codelineno-14-5" name="__codelineno-14-5" href="#__codelineno-14-5"></a><span class="w">    </span><span class="nt">num_steps</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">10</span><span class="w">          </span><span class="c1"># Start smaller</span>
</span><span id="__span-14-6"><a id="__codelineno-14-6" name="__codelineno-14-6" href="#__codelineno-14-6"></a>
</span><span id="__span-14-7"><a id="__codelineno-14-7" name="__codelineno-14-7" href="#__codelineno-14-7"></a><span class="c1"># Add delays between requests</span>
</span><span id="__span-14-8"><a id="__codelineno-14-8" name="__codelineno-14-8" href="#__codelineno-14-8"></a><span class="nt">data_engine</span><span class="p">:</span>
</span><span id="__span-14-9"><a id="__codelineno-14-9" name="__codelineno-14-9" href="#__codelineno-14-9"></a><span class="w">  </span><span class="nt">max_retries</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">2</span><span class="w">           </span><span class="c1"># Fewer retries</span>
</span></code></pre></div>
<h4 id="2-upgrade-api-plan">2. Upgrade API plan<a class="headerlink" href="#2-upgrade-api-plan" title="Permanent link">&para;</a></h4>
<ul>
<li>Check your OpenAI/Anthropic usage limits</li>
<li>Consider upgrading to higher tier plans</li>
<li>Monitor usage in provider dashboards</li>
</ul>
<h4 id="3-implement-retry-with-backoff">3. Implement retry with backoff<a class="headerlink" href="#3-implement-retry-with-backoff" title="Permanent link">&para;</a></h4>
<div class="language-python highlight"><pre><span></span><code><span id="__span-15-1"><a id="__codelineno-15-1" name="__codelineno-15-1" href="#__codelineno-15-1"></a><span class="kn">import</span><span class="w"> </span><span class="nn">time</span>
</span><span id="__span-15-2"><a id="__codelineno-15-2" name="__codelineno-15-2" href="#__codelineno-15-2"></a><span class="kn">import</span><span class="w"> </span><span class="nn">random</span>
</span><span id="__span-15-3"><a id="__codelineno-15-3" name="__codelineno-15-3" href="#__codelineno-15-3"></a>
</span><span id="__span-15-4"><a id="__codelineno-15-4" name="__codelineno-15-4" href="#__codelineno-15-4"></a><span class="k">def</span><span class="w"> </span><span class="nf">generate_with_backoff</span><span class="p">(</span><span class="n">generator</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
</span><span id="__span-15-5"><a id="__codelineno-15-5" name="__codelineno-15-5" href="#__codelineno-15-5"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Generate with exponential backoff on rate limits.&quot;&quot;&quot;</span>
</span><span id="__span-15-6"><a id="__codelineno-15-6" name="__codelineno-15-6" href="#__codelineno-15-6"></a>    <span class="k">for</span> <span class="n">attempt</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">5</span><span class="p">):</span>
</span><span id="__span-15-7"><a id="__codelineno-15-7" name="__codelineno-15-7" href="#__codelineno-15-7"></a>        <span class="k">try</span><span class="p">:</span>
</span><span id="__span-15-8"><a id="__codelineno-15-8" name="__codelineno-15-8" href="#__codelineno-15-8"></a>            <span class="k">return</span> <span class="n">generator</span><span class="o">.</span><span class="n">create_data</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="__span-15-9"><a id="__codelineno-15-9" name="__codelineno-15-9" href="#__codelineno-15-9"></a>        <span class="k">except</span> <span class="n">RateLimitError</span><span class="p">:</span>
</span><span id="__span-15-10"><a id="__codelineno-15-10" name="__codelineno-15-10" href="#__codelineno-15-10"></a>            <span class="n">wait_time</span> <span class="o">=</span> <span class="p">(</span><span class="mi">2</span> <span class="o">**</span> <span class="n">attempt</span><span class="p">)</span> <span class="o">+</span> <span class="n">random</span><span class="o">.</span><span class="n">uniform</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
</span><span id="__span-15-11"><a id="__codelineno-15-11" name="__codelineno-15-11" href="#__codelineno-15-11"></a>            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Rate limited, waiting </span><span class="si">{</span><span class="n">wait_time</span><span class="si">:</span><span class="s2">.1f</span><span class="si">}</span><span class="s2">s...&quot;</span><span class="p">)</span>
</span><span id="__span-15-12"><a id="__codelineno-15-12" name="__codelineno-15-12" href="#__codelineno-15-12"></a>            <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="n">wait_time</span><span class="p">)</span>
</span><span id="__span-15-13"><a id="__codelineno-15-13" name="__codelineno-15-13" href="#__codelineno-15-13"></a>        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span><span id="__span-15-14"><a id="__codelineno-15-14" name="__codelineno-15-14" href="#__codelineno-15-14"></a>            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Other error: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="__span-15-15"><a id="__codelineno-15-15" name="__codelineno-15-15" href="#__codelineno-15-15"></a>            <span class="k">break</span>
</span><span id="__span-15-16"><a id="__codelineno-15-16" name="__codelineno-15-16" href="#__codelineno-15-16"></a>    <span class="k">return</span> <span class="kc">None</span>
</span></code></pre></div>
<h2 id="generation-quality-issues">Generation Quality Issues<a class="headerlink" href="#generation-quality-issues" title="Permanent link">&para;</a></h2>
<h3 id="issue-generated-samples-are-too-shortbrief">Issue: Generated samples are too short/brief<a class="headerlink" href="#issue-generated-samples-are-too-shortbrief" title="Permanent link">&para;</a></h3>
<p><strong>Symptoms</strong>: Chain of thought lacks detail, reasoning is superficial</p>
<p><strong>Diagnostic questions</strong>:
- Are reasoning sections under 100 characters?
- Do samples skip important steps?
- Is mathematical work not shown?</p>
<p><strong>Solutions</strong>:</p>
<h4 id="1-adjust-temperature-and-prompts">1. Adjust temperature and prompts<a class="headerlink" href="#1-adjust-temperature-and-prompts" title="Permanent link">&para;</a></h4>
<div class="language-yaml highlight"><pre><span></span><code><span id="__span-16-1"><a id="__codelineno-16-1" name="__codelineno-16-1" href="#__codelineno-16-1"></a><span class="nt">data_engine</span><span class="p">:</span>
</span><span id="__span-16-2"><a id="__codelineno-16-2" name="__codelineno-16-2" href="#__codelineno-16-2"></a><span class="w">  </span><span class="nt">temperature</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0.2</span><span class="w">           </span><span class="c1"># Lower for more consistent, detailed reasoning</span>
</span><span id="__span-16-3"><a id="__codelineno-16-3" name="__codelineno-16-3" href="#__codelineno-16-3"></a>
</span><span id="__span-16-4"><a id="__codelineno-16-4" name="__codelineno-16-4" href="#__codelineno-16-4"></a><span class="w">  </span><span class="nt">generation_system_prompt</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;You</span><span class="nv"> </span><span class="s">are</span><span class="nv"> </span><span class="s">a</span><span class="nv"> </span><span class="s">detailed</span><span class="nv"> </span><span class="s">educator</span><span class="nv"> </span><span class="s">who</span><span class="nv"> </span><span class="s">shows</span><span class="nv"> </span><span class="s">EVERY</span><span class="nv"> </span><span class="s">step</span><span class="nv"> </span><span class="s">of</span><span class="nv"> </span><span class="s">your</span><span class="nv"> </span><span class="s">reasoning</span><span class="nv"> </span><span class="s">process.</span><span class="nv"> </span><span class="s">Never</span><span class="nv"> </span><span class="s">skip</span><span class="nv"> </span><span class="s">intermediate</span><span class="nv"> </span><span class="s">calculations</span><span class="nv"> </span><span class="s">or</span><span class="nv"> </span><span class="s">logical</span><span class="nv"> </span><span class="s">steps.&quot;</span>
</span><span id="__span-16-5"><a id="__codelineno-16-5" name="__codelineno-16-5" href="#__codelineno-16-5"></a>
</span><span id="__span-16-6"><a id="__codelineno-16-6" name="__codelineno-16-6" href="#__codelineno-16-6"></a><span class="w">  </span><span class="nt">instructions</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;Create</span><span class="nv"> </span><span class="s">problems</span><span class="nv"> </span><span class="s">that</span><span class="nv"> </span><span class="s">require</span><span class="nv"> </span><span class="s">detailed,</span><span class="nv"> </span><span class="s">multi-step</span><span class="nv"> </span><span class="s">reasoning.</span><span class="nv"> </span><span class="s">Each</span><span class="nv"> </span><span class="s">step</span><span class="nv"> </span><span class="s">should</span><span class="nv"> </span><span class="s">be</span><span class="nv"> </span><span class="s">clearly</span><span class="nv"> </span><span class="s">explained</span><span class="nv"> </span><span class="s">with</span><span class="nv"> </span><span class="s">mathematical</span><span class="nv"> </span><span class="s">work</span><span class="nv"> </span><span class="s">or</span><span class="nv"> </span><span class="s">logical</span><span class="nv"> </span><span class="s">justification</span><span class="nv"> </span><span class="s">shown.&quot;</span>
</span></code></pre></div>
<h4 id="2-emphasize-step-by-step-in-prompts">2. Emphasize step-by-step in prompts<a class="headerlink" href="#2-emphasize-step-by-step-in-prompts" title="Permanent link">&para;</a></h4>
<div class="language-python highlight"><pre><span></span><code><span id="__span-17-1"><a id="__codelineno-17-1" name="__codelineno-17-1" href="#__codelineno-17-1"></a><span class="n">generator</span> <span class="o">=</span> <span class="n">DataSetGenerator</span><span class="p">(</span>
</span><span id="__span-17-2"><a id="__codelineno-17-2" name="__codelineno-17-2" href="#__codelineno-17-2"></a>    <span class="n">generation_system_prompt</span><span class="o">=</span><span class="s2">&quot;&quot;&quot;You are a thorough teacher who:</span>
</span><span id="__span-17-3"><a id="__codelineno-17-3" name="__codelineno-17-3" href="#__codelineno-17-3"></a><span class="s2">    - Shows every calculation step explicitly</span>
</span><span id="__span-17-4"><a id="__codelineno-17-4" name="__codelineno-17-4" href="#__codelineno-17-4"></a><span class="s2">    - Explains the reasoning behind each decision</span>
</span><span id="__span-17-5"><a id="__codelineno-17-5" name="__codelineno-17-5" href="#__codelineno-17-5"></a><span class="s2">    - Uses phrases like &#39;first&#39;, &#39;then&#39;, &#39;next&#39;, &#39;finally&#39;</span>
</span><span id="__span-17-6"><a id="__codelineno-17-6" name="__codelineno-17-6" href="#__codelineno-17-6"></a><span class="s2">    - Always verifies answers when possible&quot;&quot;&quot;</span><span class="p">,</span>
</span><span id="__span-17-7"><a id="__codelineno-17-7" name="__codelineno-17-7" href="#__codelineno-17-7"></a>    <span class="n">conversation_type</span><span class="o">=</span><span class="s2">&quot;cot_freetext&quot;</span><span class="p">,</span>
</span><span id="__span-17-8"><a id="__codelineno-17-8" name="__codelineno-17-8" href="#__codelineno-17-8"></a>    <span class="n">reasoning_style</span><span class="o">=</span><span class="s2">&quot;mathematical&quot;</span>
</span><span id="__span-17-9"><a id="__codelineno-17-9" name="__codelineno-17-9" href="#__codelineno-17-9"></a><span class="p">)</span>
</span></code></pre></div>
<h4 id="3-use-higher-capability-models">3. Use higher-capability models<a class="headerlink" href="#3-use-higher-capability-models" title="Permanent link">&para;</a></h4>
<div class="language-yaml highlight"><pre><span></span><code><span id="__span-18-1"><a id="__codelineno-18-1" name="__codelineno-18-1" href="#__codelineno-18-1"></a><span class="nt">data_engine</span><span class="p">:</span>
</span><span id="__span-18-2"><a id="__codelineno-18-2" name="__codelineno-18-2" href="#__codelineno-18-2"></a><span class="w">  </span><span class="nt">provider</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;openai&quot;</span>
</span><span id="__span-18-3"><a id="__codelineno-18-3" name="__codelineno-18-3" href="#__codelineno-18-3"></a><span class="w">  </span><span class="nt">model</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;gpt-4o&quot;</span><span class="w">            </span><span class="c1"># Instead of gpt-4o-mini for more detailed reasoning</span>
</span></code></pre></div>
<h3 id="issue-mathematical-errors-in-reasoning">Issue: Mathematical errors in reasoning<a class="headerlink" href="#issue-mathematical-errors-in-reasoning" title="Permanent link">&para;</a></h3>
<p><strong>Symptoms</strong>: Incorrect calculations, wrong formulas, arithmetic mistakes</p>
<p><strong>Solutions</strong>:</p>
<h4 id="1-emphasize-verification-in-prompts">1. Emphasize verification in prompts<a class="headerlink" href="#1-emphasize-verification-in-prompts" title="Permanent link">&para;</a></h4>
<div class="language-yaml highlight"><pre><span></span><code><span id="__span-19-1"><a id="__codelineno-19-1" name="__codelineno-19-1" href="#__codelineno-19-1"></a><span class="nt">data_engine</span><span class="p">:</span>
</span><span id="__span-19-2"><a id="__codelineno-19-2" name="__codelineno-19-2" href="#__codelineno-19-2"></a><span class="w">  </span><span class="nt">generation_system_prompt</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;You</span><span class="nv"> </span><span class="s">are</span><span class="nv"> </span><span class="s">a</span><span class="nv"> </span><span class="s">careful</span><span class="nv"> </span><span class="s">mathematics</span><span class="nv"> </span><span class="s">teacher</span><span class="nv"> </span><span class="s">who</span><span class="nv"> </span><span class="s">ALWAYS</span><span class="nv"> </span><span class="s">double-checks</span><span class="nv"> </span><span class="s">calculations</span><span class="nv"> </span><span class="s">and</span><span class="nv"> </span><span class="s">shows</span><span class="nv"> </span><span class="s">verification</span><span class="nv"> </span><span class="s">steps.</span><span class="nv"> </span><span class="s">If</span><span class="nv"> </span><span class="s">you</span><span class="nv"> </span><span class="s">make</span><span class="nv"> </span><span class="s">a</span><span class="nv"> </span><span class="s">calculation,</span><span class="nv"> </span><span class="s">verify</span><span class="nv"> </span><span class="s">it</span><span class="nv"> </span><span class="s">with</span><span class="nv"> </span><span class="s">a</span><span class="nv"> </span><span class="s">different</span><span class="nv"> </span><span class="s">method.&quot;</span>
</span><span id="__span-19-3"><a id="__codelineno-19-3" name="__codelineno-19-3" href="#__codelineno-19-3"></a>
</span><span id="__span-19-4"><a id="__codelineno-19-4" name="__codelineno-19-4" href="#__codelineno-19-4"></a><span class="w">  </span><span class="nt">reasoning_style</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;mathematical&quot;</span>
</span><span id="__span-19-5"><a id="__codelineno-19-5" name="__codelineno-19-5" href="#__codelineno-19-5"></a><span class="w">  </span><span class="nt">temperature</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0.1</span><span class="w">           </span><span class="c1"># Very low for calculation accuracy</span>
</span></code></pre></div>
<h4 id="2-add-calculation-checking-instructions">2. Add calculation checking instructions<a class="headerlink" href="#2-add-calculation-checking-instructions" title="Permanent link">&para;</a></h4>
<div class="language-python highlight"><pre><span></span><code><span id="__span-20-1"><a id="__codelineno-20-1" name="__codelineno-20-1" href="#__codelineno-20-1"></a><span class="n">generator</span> <span class="o">=</span> <span class="n">DataSetGenerator</span><span class="p">(</span>
</span><span id="__span-20-2"><a id="__codelineno-20-2" name="__codelineno-20-2" href="#__codelineno-20-2"></a>    <span class="n">instructions</span><span class="o">=</span><span class="s2">&quot;&quot;&quot;Create math problems where you:</span>
</span><span id="__span-20-3"><a id="__codelineno-20-3" name="__codelineno-20-3" href="#__codelineno-20-3"></a><span class="s2">    1. Show every arithmetic step clearly</span>
</span><span id="__span-20-4"><a id="__codelineno-20-4" name="__codelineno-20-4" href="#__codelineno-20-4"></a><span class="s2">    2. Use proper mathematical notation</span>
</span><span id="__span-20-5"><a id="__codelineno-20-5" name="__codelineno-20-5" href="#__codelineno-20-5"></a><span class="s2">    3. Verify your final answer by substituting back</span>
</span><span id="__span-20-6"><a id="__codelineno-20-6" name="__codelineno-20-6" href="#__codelineno-20-6"></a><span class="s2">    4. Double-check calculations using estimation&quot;&quot;&quot;</span><span class="p">,</span>
</span><span id="__span-20-7"><a id="__codelineno-20-7" name="__codelineno-20-7" href="#__codelineno-20-7"></a>    <span class="n">reasoning_style</span><span class="o">=</span><span class="s2">&quot;mathematical&quot;</span>
</span><span id="__span-20-8"><a id="__codelineno-20-8" name="__codelineno-20-8" href="#__codelineno-20-8"></a><span class="p">)</span>
</span></code></pre></div>
<h4 id="3-filter-out-incorrect-solutions">3. Filter out incorrect solutions<a class="headerlink" href="#3-filter-out-incorrect-solutions" title="Permanent link">&para;</a></h4>
<div class="language-python highlight"><pre><span></span><code><span id="__span-21-1"><a id="__codelineno-21-1" name="__codelineno-21-1" href="#__codelineno-21-1"></a><span class="k">def</span><span class="w"> </span><span class="nf">validate_math_accuracy</span><span class="p">(</span><span class="n">sample</span><span class="p">):</span>
</span><span id="__span-21-2"><a id="__codelineno-21-2" name="__codelineno-21-2" href="#__codelineno-21-2"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Basic validation for mathematical accuracy.&quot;&quot;&quot;</span>
</span><span id="__span-21-3"><a id="__codelineno-21-3" name="__codelineno-21-3" href="#__codelineno-21-3"></a>    <span class="n">reasoning</span> <span class="o">=</span> <span class="n">sample</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;chain_of_thought&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)</span>
</span><span id="__span-21-4"><a id="__codelineno-21-4" name="__codelineno-21-4" href="#__codelineno-21-4"></a>
</span><span id="__span-21-5"><a id="__codelineno-21-5" name="__codelineno-21-5" href="#__codelineno-21-5"></a>    <span class="c1"># Look for verification indicators</span>
</span><span id="__span-21-6"><a id="__codelineno-21-6" name="__codelineno-21-6" href="#__codelineno-21-6"></a>    <span class="n">has_verification</span> <span class="o">=</span> <span class="nb">any</span><span class="p">(</span><span class="n">indicator</span> <span class="ow">in</span> <span class="n">reasoning</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>
</span><span id="__span-21-7"><a id="__codelineno-21-7" name="__codelineno-21-7" href="#__codelineno-21-7"></a>                          <span class="k">for</span> <span class="n">indicator</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;verify&#39;</span><span class="p">,</span> <span class="s1">&#39;check&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;correct&#39;</span><span class="p">])</span>
</span><span id="__span-21-8"><a id="__codelineno-21-8" name="__codelineno-21-8" href="#__codelineno-21-8"></a>
</span><span id="__span-21-9"><a id="__codelineno-21-9" name="__codelineno-21-9" href="#__codelineno-21-9"></a>    <span class="c1"># Look for calculation steps</span>
</span><span id="__span-21-10"><a id="__codelineno-21-10" name="__codelineno-21-10" href="#__codelineno-21-10"></a>    <span class="n">has_calculations</span> <span class="o">=</span> <span class="nb">any</span><span class="p">(</span><span class="n">char</span> <span class="ow">in</span> <span class="n">reasoning</span> <span class="k">for</span> <span class="n">char</span> <span class="ow">in</span> <span class="s1">&#39;=+-&#39;</span><span class="p">)</span>
</span><span id="__span-21-11"><a id="__codelineno-21-11" name="__codelineno-21-11" href="#__codelineno-21-11"></a>
</span><span id="__span-21-12"><a id="__codelineno-21-12" name="__codelineno-21-12" href="#__codelineno-21-12"></a>    <span class="c1"># Basic quality score</span>
</span><span id="__span-21-13"><a id="__codelineno-21-13" name="__codelineno-21-13" href="#__codelineno-21-13"></a>    <span class="k">if</span> <span class="n">has_verification</span> <span class="ow">and</span> <span class="n">has_calculations</span><span class="p">:</span>
</span><span id="__span-21-14"><a id="__codelineno-21-14" name="__codelineno-21-14" href="#__codelineno-21-14"></a>        <span class="k">return</span> <span class="kc">True</span>
</span><span id="__span-21-15"><a id="__codelineno-21-15" name="__codelineno-21-15" href="#__codelineno-21-15"></a>
</span><span id="__span-21-16"><a id="__codelineno-21-16" name="__codelineno-21-16" href="#__codelineno-21-16"></a>    <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="n">reasoning</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">100</span>  <span class="c1"># At least substantial reasoning</span>
</span><span id="__span-21-17"><a id="__codelineno-21-17" name="__codelineno-21-17" href="#__codelineno-21-17"></a>
</span><span id="__span-21-18"><a id="__codelineno-21-18" name="__codelineno-21-18" href="#__codelineno-21-18"></a><span class="c1"># Filter dataset</span>
</span><span id="__span-21-19"><a id="__codelineno-21-19" name="__codelineno-21-19" href="#__codelineno-21-19"></a><span class="n">filtered_samples</span> <span class="o">=</span> <span class="p">[</span><span class="n">s</span> <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="n">dataset</span><span class="o">.</span><span class="n">samples</span> <span class="k">if</span> <span class="n">validate_math_accuracy</span><span class="p">(</span><span class="n">s</span><span class="p">)]</span>
</span></code></pre></div>
<h3 id="issue-repetitive-or-similar-problems">Issue: Repetitive or similar problems<a class="headerlink" href="#issue-repetitive-or-similar-problems" title="Permanent link">&para;</a></h3>
<p><strong>Symptoms</strong>: Generated problems are too similar, lack diversity</p>
<p><strong>Solutions</strong>:</p>
<h4 id="1-increase-topic-diversity">1. Increase topic diversity<a class="headerlink" href="#1-increase-topic-diversity" title="Permanent link">&para;</a></h4>
<div class="language-yaml highlight"><pre><span></span><code><span id="__span-22-1"><a id="__codelineno-22-1" name="__codelineno-22-1" href="#__codelineno-22-1"></a><span class="nt">topic_tree</span><span class="p">:</span>
</span><span id="__span-22-2"><a id="__codelineno-22-2" name="__codelineno-22-2" href="#__codelineno-22-2"></a><span class="w">  </span><span class="nt">degree</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">4</span><span class="w">                  </span><span class="c1"># More subtopics per node</span>
</span><span id="__span-22-3"><a id="__codelineno-22-3" name="__codelineno-22-3" href="#__codelineno-22-3"></a><span class="w">  </span><span class="nt">depth</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">3</span><span class="w">                   </span><span class="c1"># Deeper tree structure</span>
</span><span id="__span-22-4"><a id="__codelineno-22-4" name="__codelineno-22-4" href="#__codelineno-22-4"></a><span class="w">  </span><span class="nt">temperature</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0.8</span><span class="w">           </span><span class="c1"># Higher creativity for topics</span>
</span></code></pre></div>
<h4 id="2-use-more-diverse-topic-prompts">2. Use more diverse topic prompts<a class="headerlink" href="#2-use-more-diverse-topic-prompts" title="Permanent link">&para;</a></h4>
<div class="language-yaml highlight"><pre><span></span><code><span id="__span-23-1"><a id="__codelineno-23-1" name="__codelineno-23-1" href="#__codelineno-23-1"></a><span class="nt">topic_tree</span><span class="p">:</span>
</span><span id="__span-23-2"><a id="__codelineno-23-2" name="__codelineno-23-2" href="#__codelineno-23-2"></a><span class="w">  </span><span class="nt">topic_prompt</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;Diverse</span><span class="nv"> </span><span class="s">mathematical</span><span class="nv"> </span><span class="s">scenarios</span><span class="nv"> </span><span class="s">including</span><span class="nv"> </span><span class="s">real-world</span><span class="nv"> </span><span class="s">applications</span><span class="nv"> </span><span class="s">in</span><span class="nv"> </span><span class="s">business,</span><span class="nv"> </span><span class="s">science,</span><span class="nv"> </span><span class="s">everyday</span><span class="nv"> </span><span class="s">life,</span><span class="nv"> </span><span class="s">sports,</span><span class="nv"> </span><span class="s">cooking,</span><span class="nv"> </span><span class="s">travel,</span><span class="nv"> </span><span class="s">construction,</span><span class="nv"> </span><span class="s">and</span><span class="nv"> </span><span class="s">technology.</span><span class="nv"> </span><span class="s">Include</span><span class="nv"> </span><span class="s">problems</span><span class="nv"> </span><span class="s">with</span><span class="nv"> </span><span class="s">different</span><span class="nv"> </span><span class="s">contexts,</span><span class="nv"> </span><span class="s">number</span><span class="nv"> </span><span class="s">ranges,</span><span class="nv"> </span><span class="s">and</span><span class="nv"> </span><span class="s">solution</span><span class="nv"> </span><span class="s">approaches.&quot;</span>
</span></code></pre></div>
<h4 id="3-generate-in-smaller-targeted-batches">3. Generate in smaller targeted batches<a class="headerlink" href="#3-generate-in-smaller-targeted-batches" title="Permanent link">&para;</a></h4>
<div class="language-python highlight"><pre><span></span><code><span id="__span-24-1"><a id="__codelineno-24-1" name="__codelineno-24-1" href="#__codelineno-24-1"></a><span class="c1"># Instead of one large batch, generate multiple smaller themed batches</span>
</span><span id="__span-24-2"><a id="__codelineno-24-2" name="__codelineno-24-2" href="#__codelineno-24-2"></a><span class="n">themes</span> <span class="o">=</span> <span class="p">[</span>
</span><span id="__span-24-3"><a id="__codelineno-24-3" name="__codelineno-24-3" href="#__codelineno-24-3"></a>    <span class="s2">&quot;money and shopping problems&quot;</span><span class="p">,</span>
</span><span id="__span-24-4"><a id="__codelineno-24-4" name="__codelineno-24-4" href="#__codelineno-24-4"></a>    <span class="s2">&quot;time and scheduling problems&quot;</span><span class="p">,</span>
</span><span id="__span-24-5"><a id="__codelineno-24-5" name="__codelineno-24-5" href="#__codelineno-24-5"></a>    <span class="s2">&quot;measurement and conversion problems&quot;</span><span class="p">,</span>
</span><span id="__span-24-6"><a id="__codelineno-24-6" name="__codelineno-24-6" href="#__codelineno-24-6"></a>    <span class="s2">&quot;geometry and spatial problems&quot;</span><span class="p">,</span>
</span><span id="__span-24-7"><a id="__codelineno-24-7" name="__codelineno-24-7" href="#__codelineno-24-7"></a>    <span class="s2">&quot;ratio and proportion problems&quot;</span>
</span><span id="__span-24-8"><a id="__codelineno-24-8" name="__codelineno-24-8" href="#__codelineno-24-8"></a><span class="p">]</span>
</span><span id="__span-24-9"><a id="__codelineno-24-9" name="__codelineno-24-9" href="#__codelineno-24-9"></a>
</span><span id="__span-24-10"><a id="__codelineno-24-10" name="__codelineno-24-10" href="#__codelineno-24-10"></a><span class="k">for</span> <span class="n">theme</span> <span class="ow">in</span> <span class="n">themes</span><span class="p">:</span>
</span><span id="__span-24-11"><a id="__codelineno-24-11" name="__codelineno-24-11" href="#__codelineno-24-11"></a>    <span class="n">tree</span> <span class="o">=</span> <span class="n">Tree</span><span class="p">(</span><span class="n">topic_prompt</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;Mathematics problems about </span><span class="si">{</span><span class="n">theme</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="__span-24-12"><a id="__codelineno-24-12" name="__codelineno-24-12" href="#__codelineno-24-12"></a>    <span class="c1"># Generate 10 samples per theme</span>
</span></code></pre></div>
<h2 id="format-specific-issues">Format-Specific Issues<a class="headerlink" href="#format-specific-issues" title="Permanent link">&para;</a></h2>
<h3 id="free-text-cot-issues">Free-text CoT Issues<a class="headerlink" href="#free-text-cot-issues" title="Permanent link">&para;</a></h3>
<h4 id="issue-reasoning-doesnt-flow-naturally">Issue: Reasoning doesn't flow naturally<a class="headerlink" href="#issue-reasoning-doesnt-flow-naturally" title="Permanent link">&para;</a></h4>
<p><strong>Solutions</strong>:
<div class="language-yaml highlight"><pre><span></span><code><span id="__span-25-1"><a id="__codelineno-25-1" name="__codelineno-25-1" href="#__codelineno-25-1"></a><span class="nt">data_engine</span><span class="p">:</span>
</span><span id="__span-25-2"><a id="__codelineno-25-2" name="__codelineno-25-2" href="#__codelineno-25-2"></a><span class="w">  </span><span class="nt">generation_system_prompt</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;You</span><span class="nv"> </span><span class="s">are</span><span class="nv"> </span><span class="s">a</span><span class="nv"> </span><span class="s">tutor</span><span class="nv"> </span><span class="s">explaining</span><span class="nv"> </span><span class="s">to</span><span class="nv"> </span><span class="s">a</span><span class="nv"> </span><span class="s">student.</span><span class="nv"> </span><span class="s">Use</span><span class="nv"> </span><span class="s">natural</span><span class="nv"> </span><span class="s">language</span><span class="nv"> </span><span class="s">that</span><span class="nv"> </span><span class="s">flows</span><span class="nv"> </span><span class="s">conversationally</span><span class="nv"> </span><span class="s">while</span><span class="nv"> </span><span class="s">showing</span><span class="nv"> </span><span class="s">clear</span><span class="nv"> </span><span class="s">logical</span><span class="nv"> </span><span class="s">progression.&quot;</span>
</span><span id="__span-25-3"><a id="__codelineno-25-3" name="__codelineno-25-3" href="#__codelineno-25-3"></a>
</span><span id="__span-25-4"><a id="__codelineno-25-4" name="__codelineno-25-4" href="#__codelineno-25-4"></a><span class="w">  </span><span class="nt">reasoning_style</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;general&quot;</span><span class="w">    </span><span class="c1"># More flexible than &quot;mathematical&quot;</span>
</span><span id="__span-25-5"><a id="__codelineno-25-5" name="__codelineno-25-5" href="#__codelineno-25-5"></a><span class="w">  </span><span class="nt">temperature</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0.4</span><span class="w">              </span><span class="c1"># Balance between consistency and naturalness</span>
</span></code></pre></div></p>
<h4 id="issue-missing-final-answer-or-unclear-conclusion">Issue: Missing final answer or unclear conclusion<a class="headerlink" href="#issue-missing-final-answer-or-unclear-conclusion" title="Permanent link">&para;</a></h4>
<p><strong>Solutions</strong>:
<div class="language-python highlight"><pre><span></span><code><span id="__span-26-1"><a id="__codelineno-26-1" name="__codelineno-26-1" href="#__codelineno-26-1"></a><span class="c1"># Emphasize clear conclusions</span>
</span><span id="__span-26-2"><a id="__codelineno-26-2" name="__codelineno-26-2" href="#__codelineno-26-2"></a><span class="n">generator</span> <span class="o">=</span> <span class="n">DataSetGenerator</span><span class="p">(</span>
</span><span id="__span-26-3"><a id="__codelineno-26-3" name="__codelineno-26-3" href="#__codelineno-26-3"></a>    <span class="n">generation_system_prompt</span><span class="o">=</span><span class="s2">&quot;Always end your reasoning with a clear, definitive final answer. Use phrases like &#39;Therefore,&#39; or &#39;The answer is&#39; to signal your conclusion.&quot;</span><span class="p">,</span>
</span><span id="__span-26-4"><a id="__codelineno-26-4" name="__codelineno-26-4" href="#__codelineno-26-4"></a>    <span class="n">conversation_type</span><span class="o">=</span><span class="s2">&quot;cot_freetext&quot;</span>
</span><span id="__span-26-5"><a id="__codelineno-26-5" name="__codelineno-26-5" href="#__codelineno-26-5"></a><span class="p">)</span>
</span></code></pre></div></p>
<h3 id="structured-cot-issues">Structured CoT Issues<a class="headerlink" href="#structured-cot-issues" title="Permanent link">&para;</a></h3>
<h4 id="issue-conversation-feels-unnatural-or-scripted">Issue: Conversation feels unnatural or scripted<a class="headerlink" href="#issue-conversation-feels-unnatural-or-scripted" title="Permanent link">&para;</a></h4>
<p><strong>Solutions</strong>:
<div class="language-yaml highlight"><pre><span></span><code><span id="__span-27-1"><a id="__codelineno-27-1" name="__codelineno-27-1" href="#__codelineno-27-1"></a><span class="nt">data_engine</span><span class="p">:</span>
</span><span id="__span-27-2"><a id="__codelineno-27-2" name="__codelineno-27-2" href="#__codelineno-27-2"></a><span class="w">  </span><span class="nt">generation_system_prompt</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;Create</span><span class="nv"> </span><span class="s">realistic</span><span class="nv"> </span><span class="s">educational</span><span class="nv"> </span><span class="s">conversations</span><span class="nv"> </span><span class="s">with</span><span class="nv"> </span><span class="s">natural</span><span class="nv"> </span><span class="s">student</span><span class="nv"> </span><span class="s">responses,</span><span class="nv"> </span><span class="s">including</span><span class="nv"> </span><span class="s">confusion,</span><span class="nv"> </span><span class="s">clarification</span><span class="nv"> </span><span class="s">questions,</span><span class="nv"> </span><span class="s">and</span><span class="nv"> </span><span class="s">gradual</span><span class="nv"> </span><span class="s">understanding.&quot;</span>
</span><span id="__span-27-3"><a id="__codelineno-27-3" name="__codelineno-27-3" href="#__codelineno-27-3"></a>
</span><span id="__span-27-4"><a id="__codelineno-27-4" name="__codelineno-27-4" href="#__codelineno-27-4"></a><span class="w">  </span><span class="nt">temperature</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0.5</span><span class="w">              </span><span class="c1"># Higher for more natural dialogue</span>
</span></code></pre></div></p>
<h4 id="issue-reasoning-trace-doesnt-match-conversation">Issue: Reasoning trace doesn't match conversation<a class="headerlink" href="#issue-reasoning-trace-doesnt-match-conversation" title="Permanent link">&para;</a></h4>
<p><strong>Solutions</strong>:
<div class="language-python highlight"><pre><span></span><code><span id="__span-28-1"><a id="__codelineno-28-1" name="__codelineno-28-1" href="#__codelineno-28-1"></a><span class="c1"># Add validation for alignment</span>
</span><span id="__span-28-2"><a id="__codelineno-28-2" name="__codelineno-28-2" href="#__codelineno-28-2"></a><span class="k">def</span><span class="w"> </span><span class="nf">validate_structured_cot_alignment</span><span class="p">(</span><span class="n">sample</span><span class="p">):</span>
</span><span id="__span-28-3"><a id="__codelineno-28-3" name="__codelineno-28-3" href="#__codelineno-28-3"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Check if reasoning trace aligns with conversation.&quot;&quot;&quot;</span>
</span><span id="__span-28-4"><a id="__codelineno-28-4" name="__codelineno-28-4" href="#__codelineno-28-4"></a>    <span class="n">messages</span> <span class="o">=</span> <span class="n">sample</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;messages&#39;</span><span class="p">,</span> <span class="p">[])</span>
</span><span id="__span-28-5"><a id="__codelineno-28-5" name="__codelineno-28-5" href="#__codelineno-28-5"></a>    <span class="n">reasoning_trace</span> <span class="o">=</span> <span class="n">sample</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;reasoning_trace&#39;</span><span class="p">,</span> <span class="p">[])</span>
</span><span id="__span-28-6"><a id="__codelineno-28-6" name="__codelineno-28-6" href="#__codelineno-28-6"></a>
</span><span id="__span-28-7"><a id="__codelineno-28-7" name="__codelineno-28-7" href="#__codelineno-28-7"></a>    <span class="n">assistant_messages</span> <span class="o">=</span> <span class="p">[</span><span class="n">m</span> <span class="k">for</span> <span class="n">m</span> <span class="ow">in</span> <span class="n">messages</span> <span class="k">if</span> <span class="n">m</span><span class="p">[</span><span class="s1">&#39;role&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;assistant&#39;</span><span class="p">]</span>
</span><span id="__span-28-8"><a id="__codelineno-28-8" name="__codelineno-28-8" href="#__codelineno-28-8"></a>
</span><span id="__span-28-9"><a id="__codelineno-28-9" name="__codelineno-28-9" href="#__codelineno-28-9"></a>    <span class="c1"># Each assistant message should have corresponding reasoning steps</span>
</span><span id="__span-28-10"><a id="__codelineno-28-10" name="__codelineno-28-10" href="#__codelineno-28-10"></a>    <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="n">reasoning_trace</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="nb">len</span><span class="p">(</span><span class="n">assistant_messages</span><span class="p">)</span>
</span><span id="__span-28-11"><a id="__codelineno-28-11" name="__codelineno-28-11" href="#__codelineno-28-11"></a>
</span><span id="__span-28-12"><a id="__codelineno-28-12" name="__codelineno-28-12" href="#__codelineno-28-12"></a><span class="c1"># Filter misaligned samples</span>
</span><span id="__span-28-13"><a id="__codelineno-28-13" name="__codelineno-28-13" href="#__codelineno-28-13"></a><span class="n">valid_samples</span> <span class="o">=</span> <span class="p">[</span><span class="n">s</span> <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="n">dataset</span><span class="o">.</span><span class="n">samples</span> <span class="k">if</span> <span class="n">validate_structured_cot_alignment</span><span class="p">(</span><span class="n">s</span><span class="p">)]</span>
</span></code></pre></div></p>
<h3 id="hybrid-cot-issues">Hybrid CoT Issues<a class="headerlink" href="#hybrid-cot-issues" title="Permanent link">&para;</a></h3>
<h4 id="issue-chain-of-thought-and-reasoning-trace-are-redundant">Issue: Chain of thought and reasoning trace are redundant<a class="headerlink" href="#issue-chain-of-thought-and-reasoning-trace-are-redundant" title="Permanent link">&para;</a></h4>
<p><strong>Solutions</strong>:
<div class="language-yaml highlight"><pre><span></span><code><span id="__span-29-1"><a id="__codelineno-29-1" name="__codelineno-29-1" href="#__codelineno-29-1"></a><span class="nt">data_engine</span><span class="p">:</span>
</span><span id="__span-29-2"><a id="__codelineno-29-2" name="__codelineno-29-2" href="#__codelineno-29-2"></a><span class="w">  </span><span class="nt">generation_system_prompt</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;In</span><span class="nv"> </span><span class="s">hybrid</span><span class="nv"> </span><span class="s">format,</span><span class="nv"> </span><span class="s">use</span><span class="nv"> </span><span class="s">chain_of_thought</span><span class="nv"> </span><span class="s">for</span><span class="nv"> </span><span class="s">intuitive</span><span class="nv"> </span><span class="s">explanation</span><span class="nv"> </span><span class="s">and</span><span class="nv"> </span><span class="s">reasoning_trace</span><span class="nv"> </span><span class="s">for</span><span class="nv"> </span><span class="s">systematic</span><span class="nv"> </span><span class="s">step-by-step</span><span class="nv"> </span><span class="s">breakdown.</span><span class="nv"> </span><span class="s">They</span><span class="nv"> </span><span class="s">should</span><span class="nv"> </span><span class="s">complement,</span><span class="nv"> </span><span class="s">not</span><span class="nv"> </span><span class="s">duplicate</span><span class="nv"> </span><span class="s">each</span><span class="nv"> </span><span class="s">other.&quot;</span>
</span></code></pre></div></p>
<h4 id="issue-inconsistent-information-between-sections">Issue: Inconsistent information between sections<a class="headerlink" href="#issue-inconsistent-information-between-sections" title="Permanent link">&para;</a></h4>
<p><strong>Solutions</strong>:
<div class="language-python highlight"><pre><span></span><code><span id="__span-30-1"><a id="__codelineno-30-1" name="__codelineno-30-1" href="#__codelineno-30-1"></a><span class="c1"># Emphasize consistency in prompts</span>
</span><span id="__span-30-2"><a id="__codelineno-30-2" name="__codelineno-30-2" href="#__codelineno-30-2"></a><span class="n">generator</span> <span class="o">=</span> <span class="n">DataSetGenerator</span><span class="p">(</span>
</span><span id="__span-30-3"><a id="__codelineno-30-3" name="__codelineno-30-3" href="#__codelineno-30-3"></a>    <span class="n">generation_system_prompt</span><span class="o">=</span><span class="s2">&quot;&quot;&quot;For hybrid CoT:</span>
</span><span id="__span-30-4"><a id="__codelineno-30-4" name="__codelineno-30-4" href="#__codelineno-30-4"></a><span class="s2">    1. Chain of thought: Natural, intuitive explanation</span>
</span><span id="__span-30-5"><a id="__codelineno-30-5" name="__codelineno-30-5" href="#__codelineno-30-5"></a><span class="s2">    2. Reasoning trace: Systematic, structured steps</span>
</span><span id="__span-30-6"><a id="__codelineno-30-6" name="__codelineno-30-6" href="#__codelineno-30-6"></a><span class="s2">    3. Ensure both sections are consistent and support the same conclusion</span>
</span><span id="__span-30-7"><a id="__codelineno-30-7" name="__codelineno-30-7" href="#__codelineno-30-7"></a><span class="s2">    4. Use reasoning trace to break down the logic from chain of thought&quot;&quot;&quot;</span><span class="p">,</span>
</span><span id="__span-30-8"><a id="__codelineno-30-8" name="__codelineno-30-8" href="#__codelineno-30-8"></a>    <span class="n">conversation_type</span><span class="o">=</span><span class="s2">&quot;cot_hybrid&quot;</span>
</span><span id="__span-30-9"><a id="__codelineno-30-9" name="__codelineno-30-9" href="#__codelineno-30-9"></a><span class="p">)</span>
</span></code></pre></div></p>
<h2 id="performance-and-scale-issues">Performance and Scale Issues<a class="headerlink" href="#performance-and-scale-issues" title="Permanent link">&para;</a></h2>
<h3 id="issue-generation-is-too-slow">Issue: Generation is too slow<a class="headerlink" href="#issue-generation-is-too-slow" title="Permanent link">&para;</a></h3>
<p><strong>Symptoms</strong>: Taking too long to generate datasets</p>
<p><strong>Solutions</strong>:</p>
<h4 id="1-optimize-model-selection">1. Optimize model selection<a class="headerlink" href="#1-optimize-model-selection" title="Permanent link">&para;</a></h4>
<div class="language-yaml highlight"><pre><span></span><code><span id="__span-31-1"><a id="__codelineno-31-1" name="__codelineno-31-1" href="#__codelineno-31-1"></a><span class="c1"># Use faster models for development/testing</span>
</span><span id="__span-31-2"><a id="__codelineno-31-2" name="__codelineno-31-2" href="#__codelineno-31-2"></a><span class="nt">data_engine</span><span class="p">:</span>
</span><span id="__span-31-3"><a id="__codelineno-31-3" name="__codelineno-31-3" href="#__codelineno-31-3"></a><span class="w">  </span><span class="nt">model</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;gpt-4o-mini&quot;</span><span class="w">       </span><span class="c1"># Faster than gpt-4o</span>
</span><span id="__span-31-4"><a id="__codelineno-31-4" name="__codelineno-31-4" href="#__codelineno-31-4"></a><span class="w">  </span><span class="c1"># model: &quot;gpt-3.5-turbo&quot;   # Even faster for simple tasks</span>
</span></code></pre></div>
<h4 id="2-reduce-complexity">2. Reduce complexity<a class="headerlink" href="#2-reduce-complexity" title="Permanent link">&para;</a></h4>
<div class="language-yaml highlight"><pre><span></span><code><span id="__span-32-1"><a id="__codelineno-32-1" name="__codelineno-32-1" href="#__codelineno-32-1"></a><span class="nt">dataset</span><span class="p">:</span>
</span><span id="__span-32-2"><a id="__codelineno-32-2" name="__codelineno-32-2" href="#__codelineno-32-2"></a><span class="w">  </span><span class="nt">creation</span><span class="p">:</span>
</span><span id="__span-32-3"><a id="__codelineno-32-3" name="__codelineno-32-3" href="#__codelineno-32-3"></a><span class="w">    </span><span class="nt">num_steps</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">5</span><span class="w">             </span><span class="c1"># Start small for testing</span>
</span><span id="__span-32-4"><a id="__codelineno-32-4" name="__codelineno-32-4" href="#__codelineno-32-4"></a><span class="w">    </span><span class="nt">batch_size</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1</span><span class="w">            </span><span class="c1"># Don&#39;t increase for CoT formats</span>
</span><span id="__span-32-5"><a id="__codelineno-32-5" name="__codelineno-32-5" href="#__codelineno-32-5"></a>
</span><span id="__span-32-6"><a id="__codelineno-32-6" name="__codelineno-32-6" href="#__codelineno-32-6"></a><span class="c1"># Use simpler format during development</span>
</span><span id="__span-32-7"><a id="__codelineno-32-7" name="__codelineno-32-7" href="#__codelineno-32-7"></a><span class="nt">data_engine</span><span class="p">:</span>
</span><span id="__span-32-8"><a id="__codelineno-32-8" name="__codelineno-32-8" href="#__codelineno-32-8"></a><span class="w">  </span><span class="nt">conversation_type</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;cot_freetext&quot;</span><span class="w">  </span><span class="c1"># Fastest CoT format</span>
</span></code></pre></div>
<h4 id="3-parallel-generation-for-multiple-datasets">3. Parallel generation for multiple datasets<a class="headerlink" href="#3-parallel-generation-for-multiple-datasets" title="Permanent link">&para;</a></h4>
<div class="language-python highlight"><pre><span></span><code><span id="__span-33-1"><a id="__codelineno-33-1" name="__codelineno-33-1" href="#__codelineno-33-1"></a><span class="kn">import</span><span class="w"> </span><span class="nn">concurrent.futures</span>
</span><span id="__span-33-2"><a id="__codelineno-33-2" name="__codelineno-33-2" href="#__codelineno-33-2"></a>
</span><span id="__span-33-3"><a id="__codelineno-33-3" name="__codelineno-33-3" href="#__codelineno-33-3"></a><span class="k">def</span><span class="w"> </span><span class="nf">generate_parallel_datasets</span><span class="p">(</span><span class="n">topics</span><span class="p">,</span> <span class="n">max_workers</span><span class="o">=</span><span class="mi">3</span><span class="p">):</span>
</span><span id="__span-33-4"><a id="__codelineno-33-4" name="__codelineno-33-4" href="#__codelineno-33-4"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Generate multiple topic-specific datasets in parallel.&quot;&quot;&quot;</span>
</span><span id="__span-33-5"><a id="__codelineno-33-5" name="__codelineno-33-5" href="#__codelineno-33-5"></a>
</span><span id="__span-33-6"><a id="__codelineno-33-6" name="__codelineno-33-6" href="#__codelineno-33-6"></a>    <span class="k">def</span><span class="w"> </span><span class="nf">generate_single</span><span class="p">(</span><span class="n">topic</span><span class="p">):</span>
</span><span id="__span-33-7"><a id="__codelineno-33-7" name="__codelineno-33-7" href="#__codelineno-33-7"></a>        <span class="n">tree</span> <span class="o">=</span> <span class="n">Tree</span><span class="p">(</span><span class="n">topic_prompt</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;Problems about </span><span class="si">{</span><span class="n">topic</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="__span-33-8"><a id="__codelineno-33-8" name="__codelineno-33-8" href="#__codelineno-33-8"></a>        <span class="c1"># Build tree and generate dataset</span>
</span><span id="__span-33-9"><a id="__codelineno-33-9" name="__codelineno-33-9" href="#__codelineno-33-9"></a>        <span class="k">return</span> <span class="n">generate_dataset_for_topic</span><span class="p">(</span><span class="n">topic</span><span class="p">,</span> <span class="n">tree</span><span class="p">)</span>
</span><span id="__span-33-10"><a id="__codelineno-33-10" name="__codelineno-33-10" href="#__codelineno-33-10"></a>
</span><span id="__span-33-11"><a id="__codelineno-33-11" name="__codelineno-33-11" href="#__codelineno-33-11"></a>    <span class="k">with</span> <span class="n">concurrent</span><span class="o">.</span><span class="n">futures</span><span class="o">.</span><span class="n">ThreadPoolExecutor</span><span class="p">(</span><span class="n">max_workers</span><span class="o">=</span><span class="n">max_workers</span><span class="p">)</span> <span class="k">as</span> <span class="n">executor</span><span class="p">:</span>
</span><span id="__span-33-12"><a id="__codelineno-33-12" name="__codelineno-33-12" href="#__codelineno-33-12"></a>        <span class="n">results</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">executor</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">generate_single</span><span class="p">,</span> <span class="n">topics</span><span class="p">))</span>
</span><span id="__span-33-13"><a id="__codelineno-33-13" name="__codelineno-33-13" href="#__codelineno-33-13"></a>
</span><span id="__span-33-14"><a id="__codelineno-33-14" name="__codelineno-33-14" href="#__codelineno-33-14"></a>    <span class="k">return</span> <span class="n">results</span>
</span><span id="__span-33-15"><a id="__codelineno-33-15" name="__codelineno-33-15" href="#__codelineno-33-15"></a>
</span><span id="__span-33-16"><a id="__codelineno-33-16" name="__codelineno-33-16" href="#__codelineno-33-16"></a><span class="c1"># Usage</span>
</span><span id="__span-33-17"><a id="__codelineno-33-17" name="__codelineno-33-17" href="#__codelineno-33-17"></a><span class="n">topics</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;arithmetic&quot;</span><span class="p">,</span> <span class="s2">&quot;geometry&quot;</span><span class="p">,</span> <span class="s2">&quot;algebra&quot;</span><span class="p">]</span>
</span><span id="__span-33-18"><a id="__codelineno-33-18" name="__codelineno-33-18" href="#__codelineno-33-18"></a><span class="n">datasets</span> <span class="o">=</span> <span class="n">generate_parallel_datasets</span><span class="p">(</span><span class="n">topics</span><span class="p">)</span>
</span></code></pre></div>
<h3 id="issue-high-api-costs">Issue: High API costs<a class="headerlink" href="#issue-high-api-costs" title="Permanent link">&para;</a></h3>
<p><strong>Symptoms</strong>: Unexpected high bills from API providers</p>
<p><strong>Solutions</strong>:</p>
<h4 id="1-monitor-token-usage">1. Monitor token usage<a class="headerlink" href="#1-monitor-token-usage" title="Permanent link">&para;</a></h4>
<div class="language-python highlight"><pre><span></span><code><span id="__span-34-1"><a id="__codelineno-34-1" name="__codelineno-34-1" href="#__codelineno-34-1"></a><span class="kn">import</span><span class="w"> </span><span class="nn">tiktoken</span>
</span><span id="__span-34-2"><a id="__codelineno-34-2" name="__codelineno-34-2" href="#__codelineno-34-2"></a>
</span><span id="__span-34-3"><a id="__codelineno-34-3" name="__codelineno-34-3" href="#__codelineno-34-3"></a><span class="k">def</span><span class="w"> </span><span class="nf">estimate_tokens</span><span class="p">(</span><span class="n">text</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">model</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;gpt-4&quot;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
</span><span id="__span-34-4"><a id="__codelineno-34-4" name="__codelineno-34-4" href="#__codelineno-34-4"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Estimate token count for text.&quot;&quot;&quot;</span>
</span><span id="__span-34-5"><a id="__codelineno-34-5" name="__codelineno-34-5" href="#__codelineno-34-5"></a>    <span class="n">encoding</span> <span class="o">=</span> <span class="n">tiktoken</span><span class="o">.</span><span class="n">encoding_for_model</span><span class="p">(</span><span class="n">model</span><span class="p">)</span>
</span><span id="__span-34-6"><a id="__codelineno-34-6" name="__codelineno-34-6" href="#__codelineno-34-6"></a>    <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="n">encoding</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="n">text</span><span class="p">))</span>
</span><span id="__span-34-7"><a id="__codelineno-34-7" name="__codelineno-34-7" href="#__codelineno-34-7"></a>
</span><span id="__span-34-8"><a id="__codelineno-34-8" name="__codelineno-34-8" href="#__codelineno-34-8"></a><span class="k">def</span><span class="w"> </span><span class="nf">estimate_cost</span><span class="p">(</span><span class="n">sample_count</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">avg_tokens_per_sample</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">1000</span><span class="p">):</span>
</span><span id="__span-34-9"><a id="__codelineno-34-9" name="__codelineno-34-9" href="#__codelineno-34-9"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Estimate generation cost.&quot;&quot;&quot;</span>
</span><span id="__span-34-10"><a id="__codelineno-34-10" name="__codelineno-34-10" href="#__codelineno-34-10"></a>    <span class="n">total_tokens</span> <span class="o">=</span> <span class="n">sample_count</span> <span class="o">*</span> <span class="n">avg_tokens_per_sample</span>
</span><span id="__span-34-11"><a id="__codelineno-34-11" name="__codelineno-34-11" href="#__codelineno-34-11"></a>    <span class="c1"># GPT-4o-mini pricing (example)</span>
</span><span id="__span-34-12"><a id="__codelineno-34-12" name="__codelineno-34-12" href="#__codelineno-34-12"></a>    <span class="n">cost_per_1k_tokens</span> <span class="o">=</span> <span class="mf">0.00015</span>  <span class="c1"># Input tokens</span>
</span><span id="__span-34-13"><a id="__codelineno-34-13" name="__codelineno-34-13" href="#__codelineno-34-13"></a>    <span class="n">estimated_cost</span> <span class="o">=</span> <span class="p">(</span><span class="n">total_tokens</span> <span class="o">/</span> <span class="mi">1000</span><span class="p">)</span> <span class="o">*</span> <span class="n">cost_per_1k_tokens</span>
</span><span id="__span-34-14"><a id="__codelineno-34-14" name="__codelineno-34-14" href="#__codelineno-34-14"></a>    <span class="k">return</span> <span class="n">estimated_cost</span>
</span><span id="__span-34-15"><a id="__codelineno-34-15" name="__codelineno-34-15" href="#__codelineno-34-15"></a>
</span><span id="__span-34-16"><a id="__codelineno-34-16" name="__codelineno-34-16" href="#__codelineno-34-16"></a><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Estimated cost for 50 samples: $</span><span class="si">{</span><span class="n">estimate_cost</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span></code></pre></div>
<h4 id="2-use-cost-effective-configurations">2. Use cost-effective configurations<a class="headerlink" href="#2-use-cost-effective-configurations" title="Permanent link">&para;</a></h4>
<div class="language-yaml highlight"><pre><span></span><code><span id="__span-35-1"><a id="__codelineno-35-1" name="__codelineno-35-1" href="#__codelineno-35-1"></a><span class="c1"># Budget-friendly setup</span>
</span><span id="__span-35-2"><a id="__codelineno-35-2" name="__codelineno-35-2" href="#__codelineno-35-2"></a><span class="nt">data_engine</span><span class="p">:</span>
</span><span id="__span-35-3"><a id="__codelineno-35-3" name="__codelineno-35-3" href="#__codelineno-35-3"></a><span class="w">  </span><span class="nt">provider</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;openai&quot;</span>
</span><span id="__span-35-4"><a id="__codelineno-35-4" name="__codelineno-35-4" href="#__codelineno-35-4"></a><span class="w">  </span><span class="nt">model</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;gpt-4o-mini&quot;</span><span class="w">           </span><span class="c1"># Most cost-effective</span>
</span><span id="__span-35-5"><a id="__codelineno-35-5" name="__codelineno-35-5" href="#__codelineno-35-5"></a><span class="w">  </span><span class="nt">conversation_type</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;cot_freetext&quot;</span><span class="w">  </span><span class="c1"># Simplest format</span>
</span><span id="__span-35-6"><a id="__codelineno-35-6" name="__codelineno-35-6" href="#__codelineno-35-6"></a><span class="w">  </span><span class="nt">temperature</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0.3</span><span class="w">               </span><span class="c1"># Reduce retries</span>
</span><span id="__span-35-7"><a id="__codelineno-35-7" name="__codelineno-35-7" href="#__codelineno-35-7"></a><span class="w">  </span><span class="nt">max_retries</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">2</span><span class="w">                 </span><span class="c1"># Limit retries</span>
</span><span id="__span-35-8"><a id="__codelineno-35-8" name="__codelineno-35-8" href="#__codelineno-35-8"></a>
</span><span id="__span-35-9"><a id="__codelineno-35-9" name="__codelineno-35-9" href="#__codelineno-35-9"></a><span class="nt">topic_tree</span><span class="p">:</span>
</span><span id="__span-35-10"><a id="__codelineno-35-10" name="__codelineno-35-10" href="#__codelineno-35-10"></a><span class="w">  </span><span class="nt">degree</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">2</span><span class="w">                      </span><span class="c1"># Smaller topic tree</span>
</span><span id="__span-35-11"><a id="__codelineno-35-11" name="__codelineno-35-11" href="#__codelineno-35-11"></a><span class="w">  </span><span class="nt">depth</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">2</span>
</span></code></pre></div>
<h4 id="3-implement-cost-monitoring">3. Implement cost monitoring<a class="headerlink" href="#3-implement-cost-monitoring" title="Permanent link">&para;</a></h4>
<div class="language-python highlight"><pre><span></span><code><span id="__span-36-1"><a id="__codelineno-36-1" name="__codelineno-36-1" href="#__codelineno-36-1"></a><span class="k">class</span><span class="w"> </span><span class="nc">CostMonitor</span><span class="p">:</span>
</span><span id="__span-36-2"><a id="__codelineno-36-2" name="__codelineno-36-2" href="#__codelineno-36-2"></a>    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">budget_limit</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">10.0</span><span class="p">):</span>
</span><span id="__span-36-3"><a id="__codelineno-36-3" name="__codelineno-36-3" href="#__codelineno-36-3"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">budget_limit</span> <span class="o">=</span> <span class="n">budget_limit</span>
</span><span id="__span-36-4"><a id="__codelineno-36-4" name="__codelineno-36-4" href="#__codelineno-36-4"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">current_cost</span> <span class="o">=</span> <span class="mf">0.0</span>
</span><span id="__span-36-5"><a id="__codelineno-36-5" name="__codelineno-36-5" href="#__codelineno-36-5"></a>
</span><span id="__span-36-6"><a id="__codelineno-36-6" name="__codelineno-36-6" href="#__codelineno-36-6"></a>    <span class="k">def</span><span class="w"> </span><span class="nf">estimate_sample_cost</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">tokens</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">model</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;gpt-4o-mini&quot;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
</span><span id="__span-36-7"><a id="__codelineno-36-7" name="__codelineno-36-7" href="#__codelineno-36-7"></a>        <span class="c1"># Rough cost estimation</span>
</span><span id="__span-36-8"><a id="__codelineno-36-8" name="__codelineno-36-8" href="#__codelineno-36-8"></a>        <span class="n">cost_per_1k</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;gpt-4o-mini&quot;</span><span class="p">:</span> <span class="mf">0.00015</span><span class="p">,</span> <span class="s2">&quot;gpt-4o&quot;</span><span class="p">:</span> <span class="mf">0.005</span><span class="p">}</span>
</span><span id="__span-36-9"><a id="__codelineno-36-9" name="__codelineno-36-9" href="#__codelineno-36-9"></a>        <span class="k">return</span> <span class="p">(</span><span class="n">tokens</span> <span class="o">/</span> <span class="mi">1000</span><span class="p">)</span> <span class="o">*</span> <span class="n">cost_per_1k</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="mf">0.001</span><span class="p">)</span>
</span><span id="__span-36-10"><a id="__codelineno-36-10" name="__codelineno-36-10" href="#__codelineno-36-10"></a>
</span><span id="__span-36-11"><a id="__codelineno-36-11" name="__codelineno-36-11" href="#__codelineno-36-11"></a>    <span class="k">def</span><span class="w"> </span><span class="nf">check_budget</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">estimated_tokens</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">model</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
</span><span id="__span-36-12"><a id="__codelineno-36-12" name="__codelineno-36-12" href="#__codelineno-36-12"></a>        <span class="n">estimated_cost</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">estimate_sample_cost</span><span class="p">(</span><span class="n">estimated_tokens</span><span class="p">,</span> <span class="n">model</span><span class="p">)</span>
</span><span id="__span-36-13"><a id="__codelineno-36-13" name="__codelineno-36-13" href="#__codelineno-36-13"></a>        <span class="k">return</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">current_cost</span> <span class="o">+</span> <span class="n">estimated_cost</span><span class="p">)</span> <span class="o">&lt;=</span> <span class="bp">self</span><span class="o">.</span><span class="n">budget_limit</span>
</span><span id="__span-36-14"><a id="__codelineno-36-14" name="__codelineno-36-14" href="#__codelineno-36-14"></a>
</span><span id="__span-36-15"><a id="__codelineno-36-15" name="__codelineno-36-15" href="#__codelineno-36-15"></a><span class="c1"># Usage</span>
</span><span id="__span-36-16"><a id="__codelineno-36-16" name="__codelineno-36-16" href="#__codelineno-36-16"></a><span class="n">monitor</span> <span class="o">=</span> <span class="n">CostMonitor</span><span class="p">(</span><span class="n">budget_limit</span><span class="o">=</span><span class="mf">5.0</span><span class="p">)</span>  <span class="c1"># $5 limit</span>
</span><span id="__span-36-17"><a id="__codelineno-36-17" name="__codelineno-36-17" href="#__codelineno-36-17"></a><span class="k">if</span> <span class="n">monitor</span><span class="o">.</span><span class="n">check_budget</span><span class="p">(</span><span class="mi">1000</span><span class="p">,</span> <span class="s2">&quot;gpt-4o-mini&quot;</span><span class="p">):</span>
</span><span id="__span-36-18"><a id="__codelineno-36-18" name="__codelineno-36-18" href="#__codelineno-36-18"></a>    <span class="c1"># Proceed with generation</span>
</span><span id="__span-36-19"><a id="__codelineno-36-19" name="__codelineno-36-19" href="#__codelineno-36-19"></a>    <span class="k">pass</span>
</span></code></pre></div>
<h2 id="validation-and-data-quality-issues">Validation and Data Quality Issues<a class="headerlink" href="#validation-and-data-quality-issues" title="Permanent link">&para;</a></h2>
<h3 id="issue-samples-failing-validation">Issue: Samples failing validation<a class="headerlink" href="#issue-samples-failing-validation" title="Permanent link">&para;</a></h3>
<p><strong>Symptoms</strong>: High rate of failed samples during dataset creation</p>
<p><strong>Diagnostic steps</strong>:</p>
<h4 id="1-check-validation-errors">1. Check validation errors<a class="headerlink" href="#1-check-validation-errors" title="Permanent link">&para;</a></h4>
<div class="language-python highlight"><pre><span></span><code><span id="__span-37-1"><a id="__codelineno-37-1" name="__codelineno-37-1" href="#__codelineno-37-1"></a><span class="kn">from</span><span class="w"> </span><span class="nn">deepfabric.dataset</span><span class="w"> </span><span class="kn">import</span> <span class="n">Dataset</span>
</span><span id="__span-37-2"><a id="__codelineno-37-2" name="__codelineno-37-2" href="#__codelineno-37-2"></a>
</span><span id="__span-37-3"><a id="__codelineno-37-3" name="__codelineno-37-3" href="#__codelineno-37-3"></a><span class="c1"># Load and analyze failures</span>
</span><span id="__span-37-4"><a id="__codelineno-37-4" name="__codelineno-37-4" href="#__codelineno-37-4"></a><span class="n">dataset</span> <span class="o">=</span> <span class="n">Dataset</span><span class="o">.</span><span class="n">from_jsonl</span><span class="p">(</span><span class="s2">&quot;output.jsonl&quot;</span><span class="p">)</span>
</span><span id="__span-37-5"><a id="__codelineno-37-5" name="__codelineno-37-5" href="#__codelineno-37-5"></a><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Successful samples: </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">dataset</span><span class="o">.</span><span class="n">samples</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="__span-37-6"><a id="__codelineno-37-6" name="__codelineno-37-6" href="#__codelineno-37-6"></a><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Failed samples: </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">dataset</span><span class="o">.</span><span class="n">failed_samples</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="__span-37-7"><a id="__codelineno-37-7" name="__codelineno-37-7" href="#__codelineno-37-7"></a>
</span><span id="__span-37-8"><a id="__codelineno-37-8" name="__codelineno-37-8" href="#__codelineno-37-8"></a><span class="c1"># Examine failed samples</span>
</span><span id="__span-37-9"><a id="__codelineno-37-9" name="__codelineno-37-9" href="#__codelineno-37-9"></a><span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">failed</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">dataset</span><span class="o">.</span><span class="n">failed_samples</span><span class="p">[:</span><span class="mi">3</span><span class="p">]):</span>
</span><span id="__span-37-10"><a id="__codelineno-37-10" name="__codelineno-37-10" href="#__codelineno-37-10"></a>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Failed sample </span><span class="si">{</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="si">}</span><span class="s2">:&quot;</span><span class="p">)</span>
</span><span id="__span-37-11"><a id="__codelineno-37-11" name="__codelineno-37-11" href="#__codelineno-37-11"></a>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Keys: </span><span class="si">{</span><span class="nb">list</span><span class="p">(</span><span class="n">failed</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="nb">isinstance</span><span class="p">(</span><span class="n">failed</span><span class="p">,</span><span class="w"> </span><span class="nb">dict</span><span class="p">)</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="nb">type</span><span class="p">(</span><span class="n">failed</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span></code></pre></div>
<h4 id="2-test-validation-manually">2. Test validation manually<a class="headerlink" href="#2-test-validation-manually" title="Permanent link">&para;</a></h4>
<div class="language-python highlight"><pre><span></span><code><span id="__span-38-1"><a id="__codelineno-38-1" name="__codelineno-38-1" href="#__codelineno-38-1"></a><span class="c1"># Test individual sample validation</span>
</span><span id="__span-38-2"><a id="__codelineno-38-2" name="__codelineno-38-2" href="#__codelineno-38-2"></a><span class="n">test_sample</span> <span class="o">=</span> <span class="p">{</span>
</span><span id="__span-38-3"><a id="__codelineno-38-3" name="__codelineno-38-3" href="#__codelineno-38-3"></a>    <span class="s2">&quot;question&quot;</span><span class="p">:</span> <span class="s2">&quot;Test question&quot;</span><span class="p">,</span>
</span><span id="__span-38-4"><a id="__codelineno-38-4" name="__codelineno-38-4" href="#__codelineno-38-4"></a>    <span class="s2">&quot;chain_of_thought&quot;</span><span class="p">:</span> <span class="s2">&quot;Test reasoning&quot;</span><span class="p">,</span>
</span><span id="__span-38-5"><a id="__codelineno-38-5" name="__codelineno-38-5" href="#__codelineno-38-5"></a>    <span class="s2">&quot;final_answer&quot;</span><span class="p">:</span> <span class="s2">&quot;Test answer&quot;</span>
</span><span id="__span-38-6"><a id="__codelineno-38-6" name="__codelineno-38-6" href="#__codelineno-38-6"></a><span class="p">}</span>
</span><span id="__span-38-7"><a id="__codelineno-38-7" name="__codelineno-38-7" href="#__codelineno-38-7"></a>
</span><span id="__span-38-8"><a id="__codelineno-38-8" name="__codelineno-38-8" href="#__codelineno-38-8"></a><span class="n">is_valid</span> <span class="o">=</span> <span class="n">Dataset</span><span class="o">.</span><span class="n">validate_sample</span><span class="p">(</span><span class="n">test_sample</span><span class="p">)</span>
</span><span id="__span-38-9"><a id="__codelineno-38-9" name="__codelineno-38-9" href="#__codelineno-38-9"></a><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Sample valid: </span><span class="si">{</span><span class="n">is_valid</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="__span-38-10"><a id="__codelineno-38-10" name="__codelineno-38-10" href="#__codelineno-38-10"></a>
</span><span id="__span-38-11"><a id="__codelineno-38-11" name="__codelineno-38-11" href="#__codelineno-38-11"></a><span class="c1"># Check required fields for each format</span>
</span><span id="__span-38-12"><a id="__codelineno-38-12" name="__codelineno-38-12" href="#__codelineno-38-12"></a><span class="n">formats</span> <span class="o">=</span> <span class="p">{</span>
</span><span id="__span-38-13"><a id="__codelineno-38-13" name="__codelineno-38-13" href="#__codelineno-38-13"></a>    <span class="s2">&quot;freetext&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;question&quot;</span><span class="p">,</span> <span class="s2">&quot;chain_of_thought&quot;</span><span class="p">,</span> <span class="s2">&quot;final_answer&quot;</span><span class="p">],</span>
</span><span id="__span-38-14"><a id="__codelineno-38-14" name="__codelineno-38-14" href="#__codelineno-38-14"></a>    <span class="s2">&quot;structured&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;messages&quot;</span><span class="p">,</span> <span class="s2">&quot;reasoning_trace&quot;</span><span class="p">,</span> <span class="s2">&quot;final_answer&quot;</span><span class="p">],</span>
</span><span id="__span-38-15"><a id="__codelineno-38-15" name="__codelineno-38-15" href="#__codelineno-38-15"></a>    <span class="s2">&quot;hybrid&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;question&quot;</span><span class="p">,</span> <span class="s2">&quot;chain_of_thought&quot;</span><span class="p">,</span> <span class="s2">&quot;reasoning_trace&quot;</span><span class="p">,</span> <span class="s2">&quot;final_answer&quot;</span><span class="p">]</span>
</span><span id="__span-38-16"><a id="__codelineno-38-16" name="__codelineno-38-16" href="#__codelineno-38-16"></a><span class="p">}</span>
</span><span id="__span-38-17"><a id="__codelineno-38-17" name="__codelineno-38-17" href="#__codelineno-38-17"></a>
</span><span id="__span-38-18"><a id="__codelineno-38-18" name="__codelineno-38-18" href="#__codelineno-38-18"></a><span class="k">for</span> <span class="n">format_name</span><span class="p">,</span> <span class="n">required_fields</span> <span class="ow">in</span> <span class="n">formats</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
</span><span id="__span-38-19"><a id="__codelineno-38-19" name="__codelineno-38-19" href="#__codelineno-38-19"></a>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n</span><span class="si">{</span><span class="n">format_name</span><span class="si">}</span><span class="s2"> format requires: </span><span class="si">{</span><span class="n">required_fields</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span></code></pre></div>
<h3 id="issue-inconsistent-sample-quality">Issue: Inconsistent sample quality<a class="headerlink" href="#issue-inconsistent-sample-quality" title="Permanent link">&para;</a></h3>
<p><strong>Solutions</strong>:</p>
<h4 id="1-implement-quality-scoring">1. Implement quality scoring<a class="headerlink" href="#1-implement-quality-scoring" title="Permanent link">&para;</a></h4>
<div class="language-python highlight"><pre><span></span><code><span id="__span-39-1"><a id="__codelineno-39-1" name="__codelineno-39-1" href="#__codelineno-39-1"></a><span class="k">def</span><span class="w"> </span><span class="nf">quality_score</span><span class="p">(</span><span class="n">sample</span><span class="p">:</span> <span class="nb">dict</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
</span><span id="__span-39-2"><a id="__codelineno-39-2" name="__codelineno-39-2" href="#__codelineno-39-2"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Calculate comprehensive quality score.&quot;&quot;&quot;</span>
</span><span id="__span-39-3"><a id="__codelineno-39-3" name="__codelineno-39-3" href="#__codelineno-39-3"></a>    <span class="n">score</span> <span class="o">=</span> <span class="mf">0.0</span>
</span><span id="__span-39-4"><a id="__codelineno-39-4" name="__codelineno-39-4" href="#__codelineno-39-4"></a>
</span><span id="__span-39-5"><a id="__codelineno-39-5" name="__codelineno-39-5" href="#__codelineno-39-5"></a>    <span class="c1"># Length checks</span>
</span><span id="__span-39-6"><a id="__codelineno-39-6" name="__codelineno-39-6" href="#__codelineno-39-6"></a>    <span class="n">question_len</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">sample</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;question&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">))</span>
</span><span id="__span-39-7"><a id="__codelineno-39-7" name="__codelineno-39-7" href="#__codelineno-39-7"></a>    <span class="n">reasoning_len</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">sample</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;chain_of_thought&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">))</span>
</span><span id="__span-39-8"><a id="__codelineno-39-8" name="__codelineno-39-8" href="#__codelineno-39-8"></a>    <span class="n">answer_len</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">sample</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;final_answer&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">))</span>
</span><span id="__span-39-9"><a id="__codelineno-39-9" name="__codelineno-39-9" href="#__codelineno-39-9"></a>
</span><span id="__span-39-10"><a id="__codelineno-39-10" name="__codelineno-39-10" href="#__codelineno-39-10"></a>    <span class="k">if</span> <span class="mi">20</span> <span class="o">&lt;=</span> <span class="n">question_len</span> <span class="o">&lt;=</span> <span class="mi">200</span><span class="p">:</span>
</span><span id="__span-39-11"><a id="__codelineno-39-11" name="__codelineno-39-11" href="#__codelineno-39-11"></a>        <span class="n">score</span> <span class="o">+=</span> <span class="mf">0.25</span>
</span><span id="__span-39-12"><a id="__codelineno-39-12" name="__codelineno-39-12" href="#__codelineno-39-12"></a>    <span class="k">if</span> <span class="mi">100</span> <span class="o">&lt;=</span> <span class="n">reasoning_len</span> <span class="o">&lt;=</span> <span class="mi">1000</span><span class="p">:</span>
</span><span id="__span-39-13"><a id="__codelineno-39-13" name="__codelineno-39-13" href="#__codelineno-39-13"></a>        <span class="n">score</span> <span class="o">+=</span> <span class="mf">0.25</span>
</span><span id="__span-39-14"><a id="__codelineno-39-14" name="__codelineno-39-14" href="#__codelineno-39-14"></a>    <span class="k">if</span> <span class="mi">5</span> <span class="o">&lt;=</span> <span class="n">answer_len</span> <span class="o">&lt;=</span> <span class="mi">100</span><span class="p">:</span>
</span><span id="__span-39-15"><a id="__codelineno-39-15" name="__codelineno-39-15" href="#__codelineno-39-15"></a>        <span class="n">score</span> <span class="o">+=</span> <span class="mf">0.25</span>
</span><span id="__span-39-16"><a id="__codelineno-39-16" name="__codelineno-39-16" href="#__codelineno-39-16"></a>
</span><span id="__span-39-17"><a id="__codelineno-39-17" name="__codelineno-39-17" href="#__codelineno-39-17"></a>    <span class="c1"># Content quality</span>
</span><span id="__span-39-18"><a id="__codelineno-39-18" name="__codelineno-39-18" href="#__codelineno-39-18"></a>    <span class="n">reasoning</span> <span class="o">=</span> <span class="n">sample</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;chain_of_thought&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>
</span><span id="__span-39-19"><a id="__codelineno-39-19" name="__codelineno-39-19" href="#__codelineno-39-19"></a>    <span class="k">if</span> <span class="nb">any</span><span class="p">(</span><span class="n">word</span> <span class="ow">in</span> <span class="n">reasoning</span> <span class="k">for</span> <span class="n">word</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;step&#39;</span><span class="p">,</span> <span class="s1">&#39;first&#39;</span><span class="p">,</span> <span class="s1">&#39;then&#39;</span><span class="p">,</span> <span class="s1">&#39;calculate&#39;</span><span class="p">]):</span>
</span><span id="__span-39-20"><a id="__codelineno-39-20" name="__codelineno-39-20" href="#__codelineno-39-20"></a>        <span class="n">score</span> <span class="o">+=</span> <span class="mf">0.25</span>
</span><span id="__span-39-21"><a id="__codelineno-39-21" name="__codelineno-39-21" href="#__codelineno-39-21"></a>
</span><span id="__span-39-22"><a id="__codelineno-39-22" name="__codelineno-39-22" href="#__codelineno-39-22"></a>    <span class="k">return</span> <span class="n">score</span>
</span><span id="__span-39-23"><a id="__codelineno-39-23" name="__codelineno-39-23" href="#__codelineno-39-23"></a>
</span><span id="__span-39-24"><a id="__codelineno-39-24" name="__codelineno-39-24" href="#__codelineno-39-24"></a><span class="c1"># Filter by quality</span>
</span><span id="__span-39-25"><a id="__codelineno-39-25" name="__codelineno-39-25" href="#__codelineno-39-25"></a><span class="n">high_quality</span> <span class="o">=</span> <span class="p">[</span><span class="n">s</span> <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="n">dataset</span><span class="o">.</span><span class="n">samples</span> <span class="k">if</span> <span class="n">quality_score</span><span class="p">(</span><span class="n">s</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="mf">0.75</span><span class="p">]</span>
</span></code></pre></div>
<h4 id="2-post-generation-filtering">2. Post-generation filtering<a class="headerlink" href="#2-post-generation-filtering" title="Permanent link">&para;</a></h4>
<div class="language-python highlight"><pre><span></span><code><span id="__span-40-1"><a id="__codelineno-40-1" name="__codelineno-40-1" href="#__codelineno-40-1"></a><span class="k">def</span><span class="w"> </span><span class="nf">comprehensive_filter</span><span class="p">(</span><span class="n">samples</span><span class="p">:</span> <span class="nb">list</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">:</span>
</span><span id="__span-40-2"><a id="__codelineno-40-2" name="__codelineno-40-2" href="#__codelineno-40-2"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Apply multiple quality filters.&quot;&quot;&quot;</span>
</span><span id="__span-40-3"><a id="__codelineno-40-3" name="__codelineno-40-3" href="#__codelineno-40-3"></a>
</span><span id="__span-40-4"><a id="__codelineno-40-4" name="__codelineno-40-4" href="#__codelineno-40-4"></a>    <span class="k">def</span><span class="w"> </span><span class="nf">has_math_content</span><span class="p">(</span><span class="n">sample</span><span class="p">):</span>
</span><span id="__span-40-5"><a id="__codelineno-40-5" name="__codelineno-40-5" href="#__codelineno-40-5"></a>        <span class="n">reasoning</span> <span class="o">=</span> <span class="n">sample</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;chain_of_thought&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)</span>
</span><span id="__span-40-6"><a id="__codelineno-40-6" name="__codelineno-40-6" href="#__codelineno-40-6"></a>        <span class="k">return</span> <span class="nb">any</span><span class="p">(</span><span class="n">char</span> <span class="ow">in</span> <span class="n">reasoning</span> <span class="k">for</span> <span class="n">char</span> <span class="ow">in</span> <span class="s1">&#39;=+-&#39;</span><span class="p">)</span> <span class="ow">or</span> \
</span><span id="__span-40-7"><a id="__codelineno-40-7" name="__codelineno-40-7" href="#__codelineno-40-7"></a>               <span class="nb">any</span><span class="p">(</span><span class="n">word</span> <span class="ow">in</span> <span class="n">reasoning</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="k">for</span> <span class="n">word</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;calculate&#39;</span><span class="p">,</span> <span class="s1">&#39;multiply&#39;</span><span class="p">,</span> <span class="s1">&#39;add&#39;</span><span class="p">])</span>
</span><span id="__span-40-8"><a id="__codelineno-40-8" name="__codelineno-40-8" href="#__codelineno-40-8"></a>
</span><span id="__span-40-9"><a id="__codelineno-40-9" name="__codelineno-40-9" href="#__codelineno-40-9"></a>    <span class="k">def</span><span class="w"> </span><span class="nf">has_step_indicators</span><span class="p">(</span><span class="n">sample</span><span class="p">):</span>
</span><span id="__span-40-10"><a id="__codelineno-40-10" name="__codelineno-40-10" href="#__codelineno-40-10"></a>        <span class="n">reasoning</span> <span class="o">=</span> <span class="n">sample</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;chain_of_thought&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>
</span><span id="__span-40-11"><a id="__codelineno-40-11" name="__codelineno-40-11" href="#__codelineno-40-11"></a>        <span class="k">return</span> <span class="nb">any</span><span class="p">(</span><span class="n">word</span> <span class="ow">in</span> <span class="n">reasoning</span> <span class="k">for</span> <span class="n">word</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;step&#39;</span><span class="p">,</span> <span class="s1">&#39;first&#39;</span><span class="p">,</span> <span class="s1">&#39;then&#39;</span><span class="p">,</span> <span class="s1">&#39;next&#39;</span><span class="p">])</span>
</span><span id="__span-40-12"><a id="__codelineno-40-12" name="__codelineno-40-12" href="#__codelineno-40-12"></a>
</span><span id="__span-40-13"><a id="__codelineno-40-13" name="__codelineno-40-13" href="#__codelineno-40-13"></a>    <span class="k">def</span><span class="w"> </span><span class="nf">reasonable_length</span><span class="p">(</span><span class="n">sample</span><span class="p">):</span>
</span><span id="__span-40-14"><a id="__codelineno-40-14" name="__codelineno-40-14" href="#__codelineno-40-14"></a>        <span class="n">reasoning</span> <span class="o">=</span> <span class="n">sample</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;chain_of_thought&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)</span>
</span><span id="__span-40-15"><a id="__codelineno-40-15" name="__codelineno-40-15" href="#__codelineno-40-15"></a>        <span class="k">return</span> <span class="mi">50</span> <span class="o">&lt;=</span> <span class="nb">len</span><span class="p">(</span><span class="n">reasoning</span><span class="p">)</span> <span class="o">&lt;=</span> <span class="mi">800</span>
</span><span id="__span-40-16"><a id="__codelineno-40-16" name="__codelineno-40-16" href="#__codelineno-40-16"></a>
</span><span id="__span-40-17"><a id="__codelineno-40-17" name="__codelineno-40-17" href="#__codelineno-40-17"></a>    <span class="n">filters</span> <span class="o">=</span> <span class="p">[</span><span class="n">has_math_content</span><span class="p">,</span> <span class="n">has_step_indicators</span><span class="p">,</span> <span class="n">reasonable_length</span><span class="p">]</span>
</span><span id="__span-40-18"><a id="__codelineno-40-18" name="__codelineno-40-18" href="#__codelineno-40-18"></a>
</span><span id="__span-40-19"><a id="__codelineno-40-19" name="__codelineno-40-19" href="#__codelineno-40-19"></a>    <span class="n">filtered</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="__span-40-20"><a id="__codelineno-40-20" name="__codelineno-40-20" href="#__codelineno-40-20"></a>    <span class="k">for</span> <span class="n">sample</span> <span class="ow">in</span> <span class="n">samples</span><span class="p">:</span>
</span><span id="__span-40-21"><a id="__codelineno-40-21" name="__codelineno-40-21" href="#__codelineno-40-21"></a>        <span class="k">if</span> <span class="nb">all</span><span class="p">(</span><span class="n">f</span><span class="p">(</span><span class="n">sample</span><span class="p">)</span> <span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="n">filters</span><span class="p">):</span>
</span><span id="__span-40-22"><a id="__codelineno-40-22" name="__codelineno-40-22" href="#__codelineno-40-22"></a>            <span class="n">filtered</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">sample</span><span class="p">)</span>
</span><span id="__span-40-23"><a id="__codelineno-40-23" name="__codelineno-40-23" href="#__codelineno-40-23"></a>
</span><span id="__span-40-24"><a id="__codelineno-40-24" name="__codelineno-40-24" href="#__codelineno-40-24"></a>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Filtered </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">samples</span><span class="p">)</span><span class="si">}</span><span class="s2">  </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">filtered</span><span class="p">)</span><span class="si">}</span><span class="s2"> samples&quot;</span><span class="p">)</span>
</span><span id="__span-40-25"><a id="__codelineno-40-25" name="__codelineno-40-25" href="#__codelineno-40-25"></a>    <span class="k">return</span> <span class="n">filtered</span>
</span><span id="__span-40-26"><a id="__codelineno-40-26" name="__codelineno-40-26" href="#__codelineno-40-26"></a>
</span><span id="__span-40-27"><a id="__codelineno-40-27" name="__codelineno-40-27" href="#__codelineno-40-27"></a><span class="c1"># Apply filtering</span>
</span><span id="__span-40-28"><a id="__codelineno-40-28" name="__codelineno-40-28" href="#__codelineno-40-28"></a><span class="n">clean_samples</span> <span class="o">=</span> <span class="n">comprehensive_filter</span><span class="p">(</span><span class="n">dataset</span><span class="o">.</span><span class="n">samples</span><span class="p">)</span>
</span></code></pre></div>
<h2 id="environment-and-setup-issues">Environment and Setup Issues<a class="headerlink" href="#environment-and-setup-issues" title="Permanent link">&para;</a></h2>
<h3 id="issue-import-errors">Issue: Import errors<a class="headerlink" href="#issue-import-errors" title="Permanent link">&para;</a></h3>
<p><strong>Symptoms</strong>:
<div class="language-python highlight"><pre><span></span><code><span id="__span-41-1"><a id="__codelineno-41-1" name="__codelineno-41-1" href="#__codelineno-41-1"></a><span class="ne">ImportError</span><span class="p">:</span> <span class="n">No</span> <span class="n">module</span> <span class="n">named</span> <span class="s1">&#39;deepfabric&#39;</span>
</span></code></pre></div></p>
<p><strong>Solutions</strong>:</p>
<h4 id="1-verify-installation">1. Verify installation<a class="headerlink" href="#1-verify-installation" title="Permanent link">&para;</a></h4>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-42-1"><a id="__codelineno-42-1" name="__codelineno-42-1" href="#__codelineno-42-1"></a>pip<span class="w"> </span>list<span class="w"> </span><span class="p">|</span><span class="w"> </span>grep<span class="w"> </span>deepfabric
</span><span id="__span-42-2"><a id="__codelineno-42-2" name="__codelineno-42-2" href="#__codelineno-42-2"></a><span class="c1"># or</span>
</span><span id="__span-42-3"><a id="__codelineno-42-3" name="__codelineno-42-3" href="#__codelineno-42-3"></a>pip<span class="w"> </span>show<span class="w"> </span>deepfabric
</span></code></pre></div>
<h4 id="2-reinstall-if-needed">2. Reinstall if needed<a class="headerlink" href="#2-reinstall-if-needed" title="Permanent link">&para;</a></h4>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-43-1"><a id="__codelineno-43-1" name="__codelineno-43-1" href="#__codelineno-43-1"></a>pip<span class="w"> </span>uninstall<span class="w"> </span>deepfabric
</span><span id="__span-43-2"><a id="__codelineno-43-2" name="__codelineno-43-2" href="#__codelineno-43-2"></a>pip<span class="w"> </span>install<span class="w"> </span>deepfabric
</span><span id="__span-43-3"><a id="__codelineno-43-3" name="__codelineno-43-3" href="#__codelineno-43-3"></a><span class="c1"># or</span>
</span><span id="__span-43-4"><a id="__codelineno-43-4" name="__codelineno-43-4" href="#__codelineno-43-4"></a>pip<span class="w"> </span>install<span class="w"> </span>--upgrade<span class="w"> </span>deepfabric
</span></code></pre></div>
<h4 id="3-check-python-environment">3. Check Python environment<a class="headerlink" href="#3-check-python-environment" title="Permanent link">&para;</a></h4>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-44-1"><a id="__codelineno-44-1" name="__codelineno-44-1" href="#__codelineno-44-1"></a>which<span class="w"> </span>python
</span><span id="__span-44-2"><a id="__codelineno-44-2" name="__codelineno-44-2" href="#__codelineno-44-2"></a>python<span class="w"> </span>--version
</span><span id="__span-44-3"><a id="__codelineno-44-3" name="__codelineno-44-3" href="#__codelineno-44-3"></a><span class="c1"># Ensure you&#39;re in the right virtual environment</span>
</span></code></pre></div>
<h3 id="issue-dependency-conflicts">Issue: Dependency conflicts<a class="headerlink" href="#issue-dependency-conflicts" title="Permanent link">&para;</a></h3>
<p><strong>Solutions</strong>:</p>
<h4 id="1-create-clean-environment">1. Create clean environment<a class="headerlink" href="#1-create-clean-environment" title="Permanent link">&para;</a></h4>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-45-1"><a id="__codelineno-45-1" name="__codelineno-45-1" href="#__codelineno-45-1"></a><span class="c1"># Create new virtual environment</span>
</span><span id="__span-45-2"><a id="__codelineno-45-2" name="__codelineno-45-2" href="#__codelineno-45-2"></a>python<span class="w"> </span>-m<span class="w"> </span>venv<span class="w"> </span>deepfabric_env
</span><span id="__span-45-3"><a id="__codelineno-45-3" name="__codelineno-45-3" href="#__codelineno-45-3"></a><span class="nb">source</span><span class="w"> </span>deepfabric_env/bin/activate<span class="w">  </span><span class="c1"># Linux/Mac</span>
</span><span id="__span-45-4"><a id="__codelineno-45-4" name="__codelineno-45-4" href="#__codelineno-45-4"></a><span class="c1"># deepfabric_env\Scripts\activate     # Windows</span>
</span><span id="__span-45-5"><a id="__codelineno-45-5" name="__codelineno-45-5" href="#__codelineno-45-5"></a>
</span><span id="__span-45-6"><a id="__codelineno-45-6" name="__codelineno-45-6" href="#__codelineno-45-6"></a><span class="c1"># Install in clean environment</span>
</span><span id="__span-45-7"><a id="__codelineno-45-7" name="__codelineno-45-7" href="#__codelineno-45-7"></a>pip<span class="w"> </span>install<span class="w"> </span>deepfabric
</span></code></pre></div>
<h4 id="2-check-dependency-versions">2. Check dependency versions<a class="headerlink" href="#2-check-dependency-versions" title="Permanent link">&para;</a></h4>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-46-1"><a id="__codelineno-46-1" name="__codelineno-46-1" href="#__codelineno-46-1"></a>pip<span class="w"> </span>list<span class="w"> </span><span class="p">|</span><span class="w"> </span>grep<span class="w"> </span>-E<span class="w"> </span><span class="s2">&quot;(pydantic|openai|anthropic)&quot;</span>
</span></code></pre></div>
<h2 id="getting-help">Getting Help<a class="headerlink" href="#getting-help" title="Permanent link">&para;</a></h2>
<h3 id="debugging-checklist">Debugging Checklist<a class="headerlink" href="#debugging-checklist" title="Permanent link">&para;</a></h3>
<p>When you encounter issues, gather this information:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-47-1"><a id="__codelineno-47-1" name="__codelineno-47-1" href="#__codelineno-47-1"></a><span class="c1"># System information</span>
</span><span id="__span-47-2"><a id="__codelineno-47-2" name="__codelineno-47-2" href="#__codelineno-47-2"></a><span class="kn">import</span><span class="w"> </span><span class="nn">sys</span>
</span><span id="__span-47-3"><a id="__codelineno-47-3" name="__codelineno-47-3" href="#__codelineno-47-3"></a><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Python version: </span><span class="si">{</span><span class="n">sys</span><span class="o">.</span><span class="n">version</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="__span-47-4"><a id="__codelineno-47-4" name="__codelineno-47-4" href="#__codelineno-47-4"></a><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;DeepFabric version: </span><span class="si">{</span><span class="n">deepfabric</span><span class="o">.</span><span class="n">__version__</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="__span-47-5"><a id="__codelineno-47-5" name="__codelineno-47-5" href="#__codelineno-47-5"></a>
</span><span id="__span-47-6"><a id="__codelineno-47-6" name="__codelineno-47-6" href="#__codelineno-47-6"></a><span class="c1"># Configuration details</span>
</span><span id="__span-47-7"><a id="__codelineno-47-7" name="__codelineno-47-7" href="#__codelineno-47-7"></a><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Conversation type: </span><span class="si">{</span><span class="n">your_config</span><span class="o">.</span><span class="n">conversation_type</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="__span-47-8"><a id="__codelineno-47-8" name="__codelineno-47-8" href="#__codelineno-47-8"></a><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Reasoning style: </span><span class="si">{</span><span class="n">your_config</span><span class="o">.</span><span class="n">reasoning_style</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="__span-47-9"><a id="__codelineno-47-9" name="__codelineno-47-9" href="#__codelineno-47-9"></a><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Provider: </span><span class="si">{</span><span class="n">your_config</span><span class="o">.</span><span class="n">provider</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="__span-47-10"><a id="__codelineno-47-10" name="__codelineno-47-10" href="#__codelineno-47-10"></a><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Model: </span><span class="si">{</span><span class="n">your_config</span><span class="o">.</span><span class="n">model_name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="__span-47-11"><a id="__codelineno-47-11" name="__codelineno-47-11" href="#__codelineno-47-11"></a>
</span><span id="__span-47-12"><a id="__codelineno-47-12" name="__codelineno-47-12" href="#__codelineno-47-12"></a><span class="c1"># Sample details (if generation issue)</span>
</span><span id="__span-47-13"><a id="__codelineno-47-13" name="__codelineno-47-13" href="#__codelineno-47-13"></a><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Generated samples: </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">dataset</span><span class="o">.</span><span class="n">samples</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="__span-47-14"><a id="__codelineno-47-14" name="__codelineno-47-14" href="#__codelineno-47-14"></a><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Failed samples: </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">dataset</span><span class="o">.</span><span class="n">failed_samples</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span></code></pre></div>
<h3 id="common-support-resources">Common Support Resources<a class="headerlink" href="#common-support-resources" title="Permanent link">&para;</a></h3>
<ol>
<li><strong>Check GitHub issues</strong>: Search for similar problems</li>
<li><strong>Review documentation</strong>: Ensure you're following current patterns</li>
<li><strong>Test with minimal examples</strong>: Isolate the issue</li>
<li><strong>Check provider status</strong>: API outages affect generation</li>
</ol>
<h3 id="emergency-workarounds">Emergency Workarounds<a class="headerlink" href="#emergency-workarounds" title="Permanent link">&para;</a></h3>
<p>If you need to continue working while debugging:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-48-1"><a id="__codelineno-48-1" name="__codelineno-48-1" href="#__codelineno-48-1"></a><span class="c1"># Fallback to simpler format</span>
</span><span id="__span-48-2"><a id="__codelineno-48-2" name="__codelineno-48-2" href="#__codelineno-48-2"></a><span class="n">generator</span> <span class="o">=</span> <span class="n">DataSetGenerator</span><span class="p">(</span>
</span><span id="__span-48-3"><a id="__codelineno-48-3" name="__codelineno-48-3" href="#__codelineno-48-3"></a>    <span class="n">conversation_type</span><span class="o">=</span><span class="s2">&quot;cot_freetext&quot;</span><span class="p">,</span>  <span class="c1"># Simplest that usually works</span>
</span><span id="__span-48-4"><a id="__codelineno-48-4" name="__codelineno-48-4" href="#__codelineno-48-4"></a>    <span class="n">reasoning_style</span><span class="o">=</span><span class="s2">&quot;general&quot;</span><span class="p">,</span>         <span class="c1"># Most flexible</span>
</span><span id="__span-48-5"><a id="__codelineno-48-5" name="__codelineno-48-5" href="#__codelineno-48-5"></a>    <span class="n">temperature</span><span class="o">=</span><span class="mf">0.3</span><span class="p">,</span>                   <span class="c1"># Conservative</span>
</span><span id="__span-48-6"><a id="__codelineno-48-6" name="__codelineno-48-6" href="#__codelineno-48-6"></a>    <span class="n">max_retries</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span>                     <span class="c1"># Don&#39;t waste on retries</span>
</span><span id="__span-48-7"><a id="__codelineno-48-7" name="__codelineno-48-7" href="#__codelineno-48-7"></a>    <span class="n">provider</span><span class="o">=</span><span class="s2">&quot;openai&quot;</span><span class="p">,</span>
</span><span id="__span-48-8"><a id="__codelineno-48-8" name="__codelineno-48-8" href="#__codelineno-48-8"></a>    <span class="n">model_name</span><span class="o">=</span><span class="s2">&quot;gpt-4o-mini&quot;</span>           <span class="c1"># Most reliable</span>
</span><span id="__span-48-9"><a id="__codelineno-48-9" name="__codelineno-48-9" href="#__codelineno-48-9"></a><span class="p">)</span>
</span><span id="__span-48-10"><a id="__codelineno-48-10" name="__codelineno-48-10" href="#__codelineno-48-10"></a>
</span><span id="__span-48-11"><a id="__codelineno-48-11" name="__codelineno-48-11" href="#__codelineno-48-11"></a><span class="c1"># Generate smaller test datasets</span>
</span><span id="__span-48-12"><a id="__codelineno-48-12" name="__codelineno-48-12" href="#__codelineno-48-12"></a><span class="n">dataset</span> <span class="o">=</span> <span class="n">generator</span><span class="o">.</span><span class="n">create_data</span><span class="p">(</span>
</span><span id="__span-48-13"><a id="__codelineno-48-13" name="__codelineno-48-13" href="#__codelineno-48-13"></a>    <span class="n">num_steps</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span>      <span class="c1"># Very small for testing</span>
</span><span id="__span-48-14"><a id="__codelineno-48-14" name="__codelineno-48-14" href="#__codelineno-48-14"></a>    <span class="n">batch_size</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
</span><span id="__span-48-15"><a id="__codelineno-48-15" name="__codelineno-48-15" href="#__codelineno-48-15"></a>    <span class="n">sys_msg</span><span class="o">=</span><span class="kc">False</span>
</span><span id="__span-48-16"><a id="__codelineno-48-16" name="__codelineno-48-16" href="#__codelineno-48-16"></a><span class="p">)</span>
</span></code></pre></div>
<p>This comprehensive troubleshooting guide should help you resolve most issues you encounter when working with Chain of Thought datasets. Remember to start with simple configurations and gradually increase complexity as you verify each component is working correctly.</p>












                
              </article>
            </div>
          
          
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var labels=set.querySelector(".tabbed-labels");for(var tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
    
      
      <nav class="md-footer__inner md-grid" aria-label="Footer" >
        
          
          <a href="../schemas/" class="md-footer__link md-footer__link--prev" aria-label="Previous: Schemas">
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
            </div>
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Previous
              </span>
              <div class="md-ellipsis">
                Schemas
              </div>
            </div>
          </a>
        
        
          
          <a href="../../../../generator-pattern/" class="md-footer__link md-footer__link--next" aria-label="Next: Generator Pattern">
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Next
              </span>
              <div class="md-ellipsis">
                Generator Pattern
              </div>
            </div>
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11z"/></svg>
            </div>
          </a>
        
      </nav>
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        
<div class="md-social">
  
    
    
    
    
      
      
    
    <a href="https://github.com/lukehinds/deepfabric" target="_blank" rel="noopener" title="github.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill="currentColor" d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://pypi.org/project/deepfabric/" target="_blank" rel="noopener" title="pypi.org" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill="currentColor" d="M439.8 200.5c-7.7-30.9-22.3-54.2-53.4-54.2h-40.1v47.4c0 36.8-31.2 67.8-66.8 67.8H172.7c-29.2 0-53.4 25-53.4 54.3v101.8c0 29 25.2 46 53.4 54.3 33.8 9.9 66.3 11.7 106.8 0 26.9-7.8 53.4-23.5 53.4-54.3v-40.7H226.2v-13.6h160.2c31.1 0 42.6-21.7 53.4-54.2 11.2-33.5 10.7-65.7 0-108.6M286.2 444.7a20.4 20.4 0 1 1 0-40.7 20.4 20.4 0 1 1 0 40.7M167.8 248.1h106.8c29.7 0 53.4-24.5 53.4-54.3V91.9c0-29-24.4-50.7-53.4-55.6-35.8-5.9-74.7-5.6-106.8.1-45.2 8-53.4 24.7-53.4 55.6v40.7h106.9v13.6h-147c-31.1 0-58.3 18.7-66.8 54.2-9.8 40.7-10.2 66.1 0 108.6 7.6 31.6 25.7 54.2 56.8 54.2H101v-48.8c0-35.3 30.5-66.4 66.8-66.4m-6.6-183.4a20.4 20.4 0 1 1 0 40.8 20.4 20.4 0 1 1 0-40.8"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "../../../../..", "features": ["navigation.footer", "toc.follow", "search.highlight", "search.share", "search.suggest", "search.highlight", "search.share", "content.code.copy", "content.code.annotate", "content.tooltips", "content.action.edit", "content.action.view", "content.tabs.link", "content.code.select"], "search": "../../../../../assets/javascripts/workers/search.973d3a69.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../../../../assets/javascripts/bundle.92b07e13.min.js"></script>
      
    
  </body>
</html>